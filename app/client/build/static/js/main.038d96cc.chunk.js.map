{"version":3,"sources":["globals.module.css","components/App/Main/ClimbRouter/Media/index.module.css","components/App/Main/ClimbRouter/Profile/index.module.css","components/App/Main/Header/Auth/index.module.css","components/App/Main/Header/index.module.css","components/App/Main/ClimbRouter/Gym/GymProblems/index.module.css","components/App/Main/ClimbRouter/GymEdit/NewProblem/index.module.css","components/App/Main/ClimbRouter/Gyms/index.module.css","components/App/Main/ClimbRouter/Gym/Filters/index.module.css","components/App/Main/ClimbRouter/Gyms/GymsAdmin/index.module.css","serviceWorker.js","globals.tsx","components/App/Main/Header/Auth/index.tsx","components/App/Main/Header/index.tsx","components/App/Main/ClimbRouter/Gym/Filters/index.tsx","components/App/Main/ClimbRouter/Gym/GymProblems/index.tsx","components/App/Main/ClimbRouter/Gym/index.tsx","components/App/Main/ClimbRouter/Media/index.tsx","components/App/Main/ClimbRouter/Media/MediaForProblem.tsx","components/App/Main/ClimbRouter/Media/NewMedia.tsx","components/App/Main/ClimbRouter/Problem/ProblemShow.tsx","components/App/Main/ClimbRouter/Problem/ProblemEdit.tsx","components/App/Main/ClimbRouter/Problem/index.tsx","components/App/Main/ClimbRouter/GymEdit/NewProblem/index.tsx","components/App/Main/ClimbRouter/GymEdit/GymEditProblems.tsx","components/App/Main/ClimbRouter/GymEdit/index.tsx","components/App/Main/ClimbRouter/Gyms/GymsAdmin/index.tsx","components/App/Main/ClimbRouter/Gyms/index.tsx","components/App/Main/ClimbRouter/Media/MediaForProfile.tsx","components/App/Main/ClimbRouter/Profile/index.tsx","components/App/Main/ClimbRouter/Profile/LatestUsers.tsx","components/App/Main/ClimbRouter/index.tsx","components/App/Main/index.tsx","components/App/index.tsx","index.js"],"names":["module","exports","bubble","inline","flex","margin","padding","main","align_center","vertical_space_10","vertical_space_20","text_align","profile_pic","video_div","video","image","link_info","profile","align_end","g_sign_in","header","icon","picture_div","picture","new_problem_container","new_problem","gym","gyms","gyms_parent","filters","new_gym","Boolean","window","location","hostname","match","InputType","app","input_type_to_field","_input_type_to_field","Object","defineProperty","Text","Checkbox","input","c","name","type","_ref","undefined","state","Error","concat","JSON","stringify","field","event","t","target","setState","refresh","_","_refresh","unready_o","Title","componentDidMount","document","title","_this","props","render","Component","globals","req","url","method","body","fetch","headers","Content-Type","then","response","status","common","_common","setApp","_app","unready","inputDate","dateString","Date","toISOString","slice","formatDate","toDateString","dateInput","params","assign","min","max","login","loggedIn","id_token","Zi","g","logout","google_promise","gapi","auth2","getAuthInstance","signOut","req_promise","Promise","all","user","id","Auth","onSignIn","preload","getElementById","script","createElement","src","href","head","appendChild","react_default","a","className","styles","content","google_signin_client_id","hidden","data-onsuccess","Button_default","onClick","variant","Link","to","gs","Header","SelectType","is_admin","Header_Auth","Filters","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","difficulty","date","active","color","setter","climbed","_this2","g_props","original_on_change","onChange","state_change","updateFilter","value","problemsBank","map","problem","sort","selectAction","bind","getSelectOptions","key","inputProperties","size","selectComponent","climbed_problems","toLowerCase","indexOf","shouldFilterSelect","GymProblems","problems","forEach","toString","gt","original_state","path","catch","err","console","error","checkboxProps","filter","shouldDisplayProblem","length","renderProblem","Gym","pictures","problem_id","description","is_verified","Gym_Filters","Gym_GymProblems","Media","keyById","items","dict","item","mediaData","m","data","mime","encodeURIComponent","paddingPercent","height","width","style","paddingTop","border","scrolling","allowFullScreen","MediaForProblem","usersDict","users","media","user_id","profile_styles","timestamp","problemLink","NewMedia","new_media_ref","React","createRef","progress_log","ref","submitNewMedia","progress","uploading_file","last_progress","progress_ref","d","p","toFixed","Math","ceil","now","push","shift","current","files","file","alert","gcs_key","split","component","json","token","folder","bucket","getTime","endpoint","resolve","reject","XMLHttpRequest","upload","onprogress","e","markProgress","loaded","total","open","onload","statusText","setRequestHeader","send","parse","gym_path","gym_name","problem_name","gcs_path","gcs_id","ProblemShow","setShow","ProblemEdit","submit","Problem","showing","Problem_ProblemShow","Problem_ProblemEdit","Media_NewMedia","Media_MediaForProblem","initial_problem","NewProblem","GymEditProblem","GymEdit","GymEdit_NewProblem","GymEditProblems","initial_gym","GymsAdmin","text","Gyms","Gyms_GymsAdmin","MediaForProfile","problemsDict","profileLink","Profile","disabled","profileDiv","permissionDiv","Media_MediaForProfile","email","toLocaleString","LatestUsers","exact","r_props","encodeURI","pathname","ClimbRouter","Switch","Route","ClimbRouter_Gyms","Profile_LatestUsers","ClimbRouter_Profile","ClimbRouter_Gym","ClimbRouter_GymEdit","ClimbRouter_Problem","Main","Main_Header","Main_ClimbRouter","App","_unready","log","history","reload","ready","assertThisInitialized","listen","App_Main","withRouter","arr","Array","from","arguments","apply","toConsumableArray","ReactDOM","BrowserRouter","components_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.038d96cc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bubble\":\"globals_bubble__2iKJc\",\"inline\":\"globals_inline__oEJv6\",\"flex\":\"globals_flex__3XGsp\",\"margin\":\"globals_margin__3fqZc\",\"padding\":\"globals_padding__3NnhQ\",\"main\":\"globals_main__2uw_J\",\"align_center\":\"globals_align_center__Am27K\",\"vertical_space_10\":\"globals_vertical_space_10__273Cj\",\"vertical_space_20\":\"globals_vertical_space_20__3kQ7D\",\"text_align\":\"globals_text_align__3Cv2t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_pic\":\"Media_profile_pic__3D8xg\",\"video_div\":\"Media_video_div__39cN9\",\"video\":\"Media_video__3bwYS\",\"image\":\"Media_image__3EY7D\",\"link_info\":\"Media_link_info__QbnS3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__36MGf\",\"profile_pic\":\"Profile_profile_pic__3pYRa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"align_end\":\"Auth_align_end__2AnBq\",\"g_sign_in\":\"Auth_g_sign_in__2_TB9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1HgZT\",\"icon\":\"Header_icon__vHi87\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture_div\":\"GymProblems_picture_div__3vl2q\",\"picture\":\"GymProblems_picture__3lpYg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_problem_container\":\"NewProblem_new_problem_container__O1FQt\",\"new_problem\":\"NewProblem_new_problem__QVZkH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gym\":\"Gyms_gym__1rDWb\",\"gyms\":\"Gyms_gyms__1axa3\",\"gyms_parent\":\"Gyms_gyms_parent__hj_Hs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"Filters_filters__18lyb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_gym\":\"GymsAdmin_new_gym__3lGYi\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === \"localhost\" ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === \"[::1]\" ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener(\"load\", () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\n\t\t\t\t\t\t\t\"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null &&\n\t\t\t\t\tcontentType.indexOf(\"javascript\") === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif (\"serviceWorker\" in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React, { Component } from \"react\";\n\ninterface userType {\n\tid: number;\n\tis_admin: boolean;\n\tis_verified: boolean;\n\temail: string;\n\tname: string;\n\timage: string;\n\ttimestamp: number;\n}\n\ninterface commonType {\n\tpath: string;\n\tgoogle_signin_client_id: string;\n\tuser: userType;\n}\n\ninterface gymType {\n\tid: number;\n\tpath: string;\n\tname: string;\n\tdescription: string;\n}\n\ninterface problemType {\n\tid: number;\n\tname: string;\n\tdifficulty: string;\n\tlocation: string;\n\tdate: string;\n\tsetter: string;\n\tactive: boolean;\n\tcolor: string;\n\tgym_path: string;\n\tpicture?: string;\n}\n\ninterface mediaType {\n\tid: number;\n\tproblem_id: number;\n\tgym_path: string;\n\tgcs_path: string;\n\tuser_id: number;\n\tfile_size: number;\n\tmime: string;\n\tdata: string;\n\twidth: number;\n\theight: number;\n\tpicture: string;\n\ttimestamp: number;\n}\n\ninterface dictType {\n\t[x: string]: any;\n}\n\nfunction req(url: string, method?: string, body?: any): Promise<Response> {\n\treturn fetch(`/api${url}`, {\n\t\tmethod,\n\t\tbody: JSON.stringify(body),\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t}\n\t}).then(response => {\n\t\tif (response.status >= 400) {\n\t\t\tthrow response;\n\t\t} else {\n\t\t\treturn response;\n\t\t}\n\t}) as Promise<Response>;\n}\n\nenum InputType {\n\tText = \"text\",\n\tCheckbox = \"checkbox\"\n}\n\nconst input_type_to_field = {\n\t[InputType.Text]: \"value\",\n\t[InputType.Checkbox]: \"checked\"\n};\n\nconst input = (\n\tc: Component<object, Readonly<any>>,\n\tname: string,\n\ttype?: InputType\n) => {\n\tif (c.state[name] === undefined)\n\t\tthrow new Error(`bad name - ${name} - ${JSON.stringify(c.state)}`);\n\tconst field = type === undefined ? \"value\" : input_type_to_field[type];\n\treturn {\n\t\tname,\n\t\ttype: type,\n\t\t[field]: c.state[name],\n\t\tonChange: (\n\t\t\tevent: React.ChangeEvent<HTMLInputElement & HTMLTextAreaElement>\n\t\t) => {\n\t\t\tconst t: any = event.target;\n\t\t\tconst state = { [event.target.name]: t[field] };\n\t\t\tc.setState(state);\n\t\t\treturn state;\n\t\t}\n\t};\n};\n\nconst dateInput = (c: Component<object, Readonly<any>>, name: string) => {\n\tconst params = input(c, name);\n\treturn Object.assign(params, {\n\t\ttype: \"date\",\n\t\tmin: \"2019-01-01\",\n\t\tmax: \"2030-12-31\"\n\t});\n};\n\nvar app: { _refresh(_: any): void; _common(): commonType };\n\nfunction setApp(_app: typeof app) {\n\tapp = _app;\n}\n\nfunction refresh(_?: any) {\n\treturn app._refresh(_);\n}\n\nfunction common() {\n\treturn app._common();\n}\n\nconst unready_o = Object();\n\nfunction unready() {\n\trefresh(unready_o);\n}\n\nfunction inputDate(dateString?: string) {\n\tconst date = dateString === undefined ? new Date() : new Date(dateString);\n\treturn date.toISOString().slice(0, 10);\n}\n\nfunction formatDate(dateString: string): string {\n\treturn new Date(dateString).toDateString();\n}\n\nclass Title extends Component<{ title: string }> {\n\tcomponentDidMount = () => {\n\t\tdocument.title = this.props.title;\n\t};\n\n\trender = () => null;\n}\n\nexport default {\n\treq,\n\tinput,\n\trefresh,\n\tcommon,\n\tsetApp,\n\tunready,\n\tunready_o,\n\tinputDate,\n\tTitle,\n\tformatDate,\n\tdateInput\n};\n\n// @ts-ignore Type error: Cannot re-export a type when the '--isolatedModules' flag is provided.  TS1205\n// prettier-ignore\nexport { commonType, userType, gymType, problemType, mediaType, InputType, dictType };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\n\nimport g from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\ndeclare global {\n\tinterface Window {\n\t\tonSignIn(_: any): void;\n\t\tgapi: any;\n\t}\n}\n\nfunction login(response: { Zi: { id_token: string } }): void {\n\tif (loggedIn()) return;\n\tconst id_token = response.Zi.id_token;\n\tg.req(\"/auth/login\", \"POST\", { id_token }).then(g.unready);\n}\n\nfunction logout(): void {\n\tconst google_promise = window.gapi.auth2.getAuthInstance().signOut();\n\tconst req_promise = g.req(\"/auth/logout\", \"POST\");\n\n\tPromise.all([google_promise, req_promise]).then(g.unready);\n}\n\nfunction loggedIn(): boolean {\n\treturn g.common().user.id !== undefined;\n}\n\nfunction Auth() {\n\tif (window.onSignIn === undefined) {\n\t\tconst preload = document.getElementById(\n\t\t\t\"google-platform-preload\"\n\t\t) as HTMLLinkElement;\n\t\tconst script = document.createElement(\"script\");\n\t\tscript.src = preload.href;\n\t\tdocument.head.appendChild(script);\n\n\t\twindow.onSignIn = login;\n\t}\n\n\treturn (\n\t\t<div className={styles.align_end}>\n\t\t\t<meta\n\t\t\t\tname=\"google-signin-client_id\"\n\t\t\t\tcontent={g.common().google_signin_client_id}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\thidden={loggedIn()}\n\t\t\t\tid=\"sign-in-button\"\n\t\t\t\tclassName={`g-signin2 ${styles.g_sign_in}`}\n\t\t\t\tdata-onsuccess=\"onSignIn\"\n\t\t\t/>\n\n\t\t\t{loggedIn() && (\n\t\t\t\t<div>\n\t\t\t\t\t<Button onClick={logout} variant=\"primary\">\n\t\t\t\t\t\tSign out\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/user/${g.common().user.id}`}\n\t\t\t\t\t\tclassName={gs.margin}\n\t\t\t\t\t>\n\t\t\t\t\t\tProfile\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Auth;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Auth from \"./Auth\";\n\nimport g from \"../../../../globals\";\nimport gs from \"../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\nfunction Header() {\n\treturn (\n\t\t<div className={`${styles.header} ${gs.bubble}`}>\n\t\t\t<Link to={\"/\"}>\n\t\t\t\t<img src=\"/favicon.ico\" className={styles.icon} />\n\t\t\t</Link>\n\t\t\t{g.common().user.is_admin && (\n\t\t\t\t<Link to={\"/admin/user/latest\"} className={gs.margin}>\n\t\t\t\t\tLatest Users\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t\t<Auth />\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","import React, { Component } from \"react\";\n\nimport g, * as gt from \"../../../../../../globals\";\nimport gs from \"../../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\ninterface PropsType {\n\tupdateFilter: (filters: gt.dictType) => void;\n\tproblemsBank: gt.problemType[];\n}\n\ninterface StateType {\n\tname: string;\n\tdifficulty: string;\n\tlocation: string;\n\tdate: string;\n\tactive: string;\n\tcolor: string;\n\tsetter: string;\n\tclimbed: string;\n}\n\nenum SelectType {\n\tdifficulty = \"difficulty\",\n\tlocation = \"location\",\n\tcolor = \"color\",\n\tsetter = \"setter\"\n}\n\nclass Filters extends Component<PropsType, StateType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tdifficulty: \"\",\n\t\t\tlocation: \"\",\n\t\t\tdate: \"\",\n\t\t\tactive: \"\",\n\t\t\tcolor: \"\",\n\t\t\tsetter: \"\",\n\t\t\tclimbed: \"\"\n\t\t};\n\t}\n\n\tstatic shouldDisplayProblem(\n\t\tproblem: gt.problemType,\n\t\tfilters: StateType,\n\t\tclimbed_problems: number[]\n\t): boolean {\n\t\tif (filters === null) return true;\n\t\tif (\n\t\t\tfilters.name !== undefined &&\n\t\t\tproblem.name.toLowerCase().indexOf(filters.name.toLowerCase()) ===\n\t\t\t\t-1\n\t\t)\n\t\t\treturn false;\n\t\tif (\n\t\t\tBoolean(filters.climbed) &&\n\t\t\t(filters.climbed === \"true\") ===\n\t\t\t\t(climbed_problems.indexOf(problem.id) === -1)\n\t\t)\n\t\t\treturn false;\n\t\tif (Filters.shouldFilterSelect(SelectType.difficulty, problem, filters))\n\t\t\treturn false;\n\t\tif (Filters.shouldFilterSelect(SelectType.location, problem, filters))\n\t\t\treturn false;\n\t\tif (\n\t\t\tBoolean(filters.active) &&\n\t\t\tBoolean(problem.active) !== (filters.active === \"true\")\n\t\t)\n\t\t\treturn false;\n\t\tif (Filters.shouldFilterSelect(SelectType.color, problem, filters))\n\t\t\treturn false;\n\t\tif (Filters.shouldFilterSelect(SelectType.setter, problem, filters))\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tstatic shouldFilterSelect(\n\t\tfield: SelectType,\n\t\tproblem: gt.problemType,\n\t\tfilters: StateType\n\t): boolean {\n\t\treturn (\n\t\t\tfilters[field] !== undefined &&\n\t\t\tfilters[field] !== \"\" &&\n\t\t\tfilters[field] !== problem[field]\n\t\t);\n\t}\n\n\tinputProperties(name: string): gt.dictType {\n\t\tconst g_props = g.input(this, name);\n\t\tconst original_on_change = g_props.onChange;\n\t\tconst onChange: typeof original_on_change = event => {\n\t\t\tconst state_change = original_on_change(event);\n\t\t\tthis.props.updateFilter(state_change);\n\t\t\treturn state_change;\n\t\t};\n\t\treturn Object.assign(g_props, { onChange });\n\t}\n\n\tselectAction(event: React.ChangeEvent<HTMLSelectElement>) {\n\t\tthis.props.updateFilter({ [event.target.name]: event.target.value });\n\t}\n\n\tgetSelectOptions(field: SelectType): string[] {\n\t\treturn this.props.problemsBank\n\t\t\t.map(problem => problem[field] as string)\n\t\t\t.sort();\n\t}\n\n\tselectComponent(field: SelectType) {\n\t\treturn (\n\t\t\t<select name={field} onChange={this.selectAction.bind(this)}>\n\t\t\t\t<option value={\"\"}>All</option>\n\t\t\t\t{this.getSelectOptions(field).map(value => (\n\t\t\t\t\t<option key={value}>{value}</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t// todo minimizeable\n\t\t\t// todo url state https://dev.to/gaels/an-alternative-to-handle-global-state-in-react-the-url--3753\n\t\t\t<div className={gs.bubble}>\n\t\t\t\t<h4>Filters</h4>\n\t\t\t\t<div className={`${styles.filters} ${gs.flex}`}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>Name</div>\n\t\t\t\t\t\t<input {...this.inputProperties(\"name\")} size={7} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>Climbed</div>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname={\"climbed\"}\n\t\t\t\t\t\t\tonChange={this.selectAction.bind(this)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value={\"\"}>All</option>\n\t\t\t\t\t\t\t<option value={\"true\"}>yes</option>\n\t\t\t\t\t\t\t<option value={\"false\"}>no</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>Difficulty</div>\n\t\t\t\t\t\t{this.selectComponent(SelectType.difficulty)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>Location</div>\n\t\t\t\t\t\t{this.selectComponent(SelectType.location)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>Status</div>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname={\"active\"}\n\t\t\t\t\t\t\tonChange={this.selectAction.bind(this)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value={\"\"}>All</option>\n\t\t\t\t\t\t\t<option value={\"true\"}>Active</option>\n\t\t\t\t\t\t\t<option value={\"false\"}>Retired</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>Color</div>\n\t\t\t\t\t\t{this.selectComponent(SelectType.color)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>Setter</div>\n\t\t\t\t\t\t{this.selectComponent(SelectType.setter)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Filters;\n// @ts-ignore Type error: Cannot re-export a type when the '--isolatedModules' flag is provided.  TS1205\nexport { StateType };\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport g, * as gt from \"../../../../../../globals\";\nimport gs from \"../../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\ninterface PropsType {\n\tgym: gt.gymType;\n\tclimbed_problems: number[];\n\tproblems: gt.problemType[];\n\tshouldDisplayProblem(problem: gt.problemType): boolean;\n}\n\ninterface StateType {\n\t[id: number]: boolean;\n}\n\nclass GymProblems extends Component<PropsType, StateType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tconst state: StateType = {};\n\t\tprops.problems.forEach((problem: gt.problemType) => {\n\t\t\tstate[problem.id] =\n\t\t\t\tprops.climbed_problems.indexOf(problem.id) !== -1;\n\t\t});\n\t\tthis.state = state;\n\t}\n\n\tcheckboxProps(id: number) {\n\t\tconst g_props = g.input(this, id.toString(), gt.InputType.Checkbox);\n\t\tconst original_on_change = g_props.onChange;\n\t\tconst onChange: typeof original_on_change = event => {\n\t\t\tconst original_state = Object.assign({}, this.state);\n\t\t\tconst state_change = original_on_change(event);\n\t\t\tg.req(`/gym/${this.props.gym.path}/problem/${id}/climb`, \"POST\", {\n\t\t\t\tclimbed: state_change[id]\n\t\t\t})\n\t\t\t\t.then(g.refresh)\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.setState(original_state);\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t\treturn state_change;\n\t\t};\n\t\treturn Object.assign(g_props, { onChange });\n\t}\n\n\trenderProblem(problem: gt.problemType) {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`${this.props.gym.path}/problem/${problem.id}`}\n\t\t\t\tkey={problem.id}\n\t\t\t\tclassName={`${gs.bubble} ${gs.flex}`}\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<h4>{`${problem.name} (${problem.id})`}</h4>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span>{problem.difficulty} </span>\n\t\t\t\t\t\t\t<input {...this.checkboxProps(problem.id)} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>{g.formatDate(problem.date)}</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{problem.location}\n\t\t\t\t\t\t{!Boolean(problem.active) && <span> (retired)</span>}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{problem.color}\n\t\t\t\t\t\t{Boolean(problem.setter) && (\n\t\t\t\t\t\t\t<span> - set by {problem.setter}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t{Boolean(problem.picture) && (\n\t\t\t\t\t<div className={styles.picture_div}>\n\t\t\t\t\t\t<img className={styles.picture} src={problem.picture} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Link>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst problems = this.props.problems.filter(\n\t\t\tthis.props.shouldDisplayProblem\n\t\t);\n\t\tif (problems.length > 0) {\n\t\t\treturn (\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t{problems.map(this.renderProblem.bind(this))}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className={gs.text_align}>\n\t\t\t\t\t<div className={`${gs.bubble} ${gs.inline}`}>\n\t\t\t\t\t\tNo problems match your filter\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default GymProblems;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport Filters, * as FiltersTypes from \"./Filters\";\nimport GymProblems from \"./GymProblems\";\n\ninterface PropsType {\n\tgym: gt.gymType;\n\tclimbed_problems: number[];\n\tproblems: gt.problemType[];\n\tpictures: { picture: string; problem_id: number }[];\n}\n\nclass Gym extends Component<PropsType, FiltersTypes.StateType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tlet pictures: { [problem_id: number]: string } = {};\n\t\tprops.pictures.forEach(picture => {\n\t\t\tpictures[picture.problem_id] = picture.picture;\n\t\t});\n\t\tprops.problems.forEach(problem => {\n\t\t\tproblem.picture = pictures[problem.id];\n\t\t});\n\t}\n\n\tupdateFilter(filters: any) {\n\t\tthis.setState(filters);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<g.Title title={this.props.gym.name} />\n\t\t\t\t<div className={`${gs.inline} ${gs.bubble}`}>\n\t\t\t\t\t<h2>{this.props.gym.name}</h2>\n\t\t\t\t\t<div>{this.props.gym.description}</div>\n\t\t\t\t\t{g.common().user.is_verified && (\n\t\t\t\t\t\t<Link to={`${this.props.gym.path}/edit`}>Edit</Link>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<Filters\n\t\t\t\t\tproblemsBank={this.props.problems}\n\t\t\t\t\tupdateFilter={this.updateFilter.bind(this)}\n\t\t\t\t/>\n\t\t\t\t<GymProblems\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tshouldDisplayProblem={problem =>\n\t\t\t\t\t\tFilters.shouldDisplayProblem(\n\t\t\t\t\t\t\tproblem,\n\t\t\t\t\t\t\tthis.state,\n\t\t\t\t\t\t\tthis.props.climbed_problems\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Gym;\n","import React from \"react\";\n\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\nfunction mediaData(m: gt.mediaType) {\n\tif (!m.data) {\n\t\treturn <p>received - handling</p>;\n\t} else if (m.mime === \"video\") {\n\t\tconst href = encodeURIComponent(`https://www.facebook.com${m.data}`);\n\t\tconst paddingPercent = (m.height * 100) / m.width;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={styles.video_div}\n\t\t\t\tstyle={{ paddingTop: `${paddingPercent}%` }}\n\t\t\t>\n\t\t\t\t<iframe\n\t\t\t\t\tclassName={styles.video}\n\t\t\t\t\tsrc={`https://www.facebook.com/plugins/video.php?href=${href}`}\n\t\t\t\t\twidth={m.width}\n\t\t\t\t\theight={m.height}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborder: \"none\"\n\t\t\t\t\t}}\n\t\t\t\t\tscrolling=\"no\"\n\t\t\t\t\tallowFullScreen={true}\n\t\t\t\t/>\n\t\t\t\t<div className={gs.vertical_space_10} />\n\t\t\t</div>\n\t\t);\n\t} else if (m.mime === \"image\") {\n\t\treturn <img className={styles.image} src={m.data} />;\n\t} else {\n\t\treturn <pre>{m.data}</pre>;\n\t}\n}\n\nfunction keyById<T extends { id: number }>(items: T[]): { [id: number]: T } {\n\tconst dict: { [id: number]: T } = {};\n\titems.forEach(item => {\n\t\tdict[item.id] = item;\n\t});\n\treturn dict;\n}\n\nexport default { keyById, mediaData };\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport Media from \".\";\nimport styles from \"./index.module.css\";\nimport profile_styles from \"../Profile/index.module.css\";\n\nfunction problemLink(\n\tm: gt.mediaType,\n\tusersDict: { [id: number]: gt.userType }\n) {\n\treturn (\n\t\t<Link to={`/user/${m.user_id}`}>\n\t\t\t<div className={gs.margin}>\n\t\t\t\t<img\n\t\t\t\t\tclassName={`${profile_styles.profile_pic} ${gs.inline}`}\n\t\t\t\t\tsrc={usersDict[m.user_id].image}\n\t\t\t\t/>\n\t\t\t\t<div className={`${gs.inline} ${styles.link_info}`}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{usersDict[m.user_id].name} ({m.user_id})\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{g.formatDate(new Date(m.timestamp).toString())} ({m.id}\n\t\t\t\t\t\t)\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Link>\n\t);\n}\n\nfunction MediaForProblem(props: {\n\tmedia: gt.mediaType[];\n\tusers: gt.userType[];\n}) {\n\tconst usersDict = Media.keyById(props.users);\n\treturn (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t{props.media.map(m => (\n\t\t\t\t\t<div key={m.id} className={gs.bubble}>\n\t\t\t\t\t\t{problemLink(m, usersDict)}\n\t\t\t\t\t\t{Media.mediaData(m)}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default MediaForProblem;\n","import React, { Component, RefObject } from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\ninterface ProgressType {\n\tt: number;\n\tp: number;\n}\n\nconst PROGRESS_LOOKBACK = 20;\n\ninterface PropsType {\n\tproblem: gt.problemType;\n\tgym_name: string;\n}\n\nclass NewMedia extends Component<\n\tPropsType,\n\t{\n\t\tuploading_file?: string;\n\t\tprogress?: ProgressType;\n\t\tlast_progress?: ProgressType;\n\t\tprogress_log: ProgressType[];\n\t}\n> {\n\tnew_media_ref: RefObject<HTMLInputElement> = React.createRef();\n\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = { progress_log: [] };\n\t}\n\n\trender() {\n\t\tif (g.common().user.id === undefined) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<p>Login and become verified to upload media.</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (!g.common().user.is_verified) {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tEmail climb.nomorerice@gmail.com with a link to your\n\t\t\t\t\t\tprofile to become verified to upload media.\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<p>New Media</p>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tref={this.new_media_ref}\n\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\tname=\"upload\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className={gs.vertical_space_10} />\n\t\t\t\t\t\t<Button onClick={this.submitNewMedia.bind(this)}>\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{this.state.progress !== undefined && (\n\t\t\t\t\t\t\t<span className={gs.margin}>{this.progress()}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n\n\tprogress() {\n\t\tif (this.state.progress === undefined) return null;\n\t\tif (this.state.uploading_file === undefined) return \"upload complete\";\n\t\tif (this.state.last_progress === undefined) return \"upload starting\";\n\t\tconst progress_ref = this.state.progress_log[0];\n\t\tconst d =\n\t\t\t(this.state.progress.t - progress_ref.t) /\n\t\t\t1000 /\n\t\t\t(this.state.progress.p - progress_ref.p);\n\t\treturn `${(this.state.progress.p * 100).toFixed(2)}% - ${Math.ceil(\n\t\t\t(1 - this.state.progress.p) * d\n\t\t)} seconds remaining`;\n\t}\n\n\tmarkProgress(p: number) {\n\t\tconst progress = { p: p, t: Date.now() };\n\t\tif (this.state.progress !== undefined)\n\t\t\tthis.state.progress_log.push(this.state.progress);\n\t\tif (this.state.progress_log.length > PROGRESS_LOOKBACK)\n\t\t\tthis.state.progress_log.shift();\n\t\tthis.setState({\n\t\t\tprogress,\n\t\t\tlast_progress: this.state.progress\n\t\t});\n\t}\n\n\tsubmitNewMedia() {\n\t\tconst input = this.new_media_ref.current;\n\t\tif (input === null) return;\n\t\tconst files = input.files;\n\t\tif (!files) return;\n\t\tconst file = files[0];\n\t\tif (this.state !== null && this.state.uploading_file !== undefined)\n\t\t\treturn alert(`already uploading ${this.state.uploading_file}`);\n\t\tthis.setState({ uploading_file: file.name });\n\t\tconst mime = file.type.split(\"/\")[0];\n\t\tconst acceptable_media = [\"image\", \"video\"];\n\t\tif (acceptable_media.indexOf(mime) === -1)\n\t\t\treturn alert(`invalid file - ${mime}`);\n\t\tlet gcs_key: string;\n\t\tlet component = this;\n\t\tg.req(\"/get_gcs_key\")\n\t\t\t.then(response => response.json())\n\t\t\t.then(response => {\n\t\t\t\tgcs_key = response.token;\n\t\t\t\tconst folder = response.folder;\n\t\t\t\tconst bucket = response.bucket;\n\n\t\t\t\tconst name = `${folder}/${new Date().getTime()}_${file.name}`;\n\t\t\t\tconst endpoint = `https://www.googleapis.com/upload/storage/v1/b/${bucket}/o?uploadType=media&name=${name}`;\n\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tlet req = new XMLHttpRequest();\n\t\t\t\t\treq.upload.onprogress = function(e) {\n\t\t\t\t\t\tcomponent.markProgress(e.loaded / e.total);\n\t\t\t\t\t};\n\t\t\t\t\treq.open(\"POST\", endpoint);\n\t\t\t\t\treq.onload = function(e) {\n\t\t\t\t\t\tif (req.status !== 200) return reject(req.statusText);\n\t\t\t\t\t\tresolve(req);\n\t\t\t\t\t};\n\t\t\t\t\treq.setRequestHeader(\"Authorization\", `Bearer ${gcs_key}`);\n\t\t\t\t\treq.setRequestHeader(\"Content-Type\", file.type);\n\t\t\t\t\treq.send(file);\n\t\t\t\t}) as Promise<XMLHttpRequest>;\n\t\t\t})\n\t\t\t.then(req => req.response)\n\t\t\t.then(JSON.parse)\n\t\t\t.then(response =>\n\t\t\t\tg.req(\n\t\t\t\t\t`/gym/${this.props.problem.gym_path}/problem/${\n\t\t\t\t\t\tthis.props.problem.id\n\t\t\t\t\t}/upload`,\n\t\t\t\t\t\"POST\",\n\t\t\t\t\t{\n\t\t\t\t\t\tgym_name: this.props.gym_name,\n\t\t\t\t\t\tproblem_name: this.props.problem.name,\n\t\t\t\t\t\tgcs_path: response.name,\n\t\t\t\t\t\tgcs_id: response.id,\n\t\t\t\t\t\tmime: file.type,\n\t\t\t\t\t\tsize: file.size,\n\t\t\t\t\t\tgcs_key: gcs_key\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t)\n\t\t\t.then(g.refresh)\n\t\t\t.then(() =>\n\t\t\t\tthis.setState({\n\t\t\t\t\tuploading_file: undefined,\n\t\t\t\t\tlast_progress: undefined,\n\t\t\t\t\tprogress_log: []\n\t\t\t\t})\n\t\t\t);\n\t}\n}\n\nexport default NewMedia;\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction ProblemShow(props: {\n\tproblem: gt.problemType;\n\tgym_name: string;\n\tsetShow: (toShow: boolean) => void;\n}) {\n\treturn (\n\t\t<div>\n\t\t\t<p>\n\t\t\t\t<Link to={`/gym/${props.problem.gym_path}`}>\n\t\t\t\t\tTo {props.gym_name}\n\t\t\t\t</Link>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t{props.problem.name} ({props.problem.id})\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<label>\n\t\t\t\t\t<span>{props.problem.difficulty} </span>\n\t\t\t\t\t<input type={\"checkbox\"} />\n\t\t\t\t</label>\n\t\t\t</p>\n\t\t\t<p>{g.formatDate(props.problem.date)}</p>\n\t\t\t<p>\n\t\t\t\t{props.problem.location}\n\t\t\t\t{!Boolean(props.problem.active) && <span> (retired)</span>}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t{props.problem.color}\n\t\t\t\t{Boolean(props.problem.setter) && (\n\t\t\t\t\t<span> - set by {props.problem.setter}</span>\n\t\t\t\t)}\n\t\t\t</p>\n\t\t\t{g.common().user.is_admin && (\n\t\t\t\t<Button onClick={() => props.setShow(false)}>Edit</Button>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default ProblemShow;\n","import React, { Component } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport g, * as gt from \"../../../../../globals\";\n\nimport Button from \"react-bootstrap/Button\";\n\ninterface PropsType {\n\tproblem: gt.problemType;\n\tmedia: gt.mediaType[];\n\tusers: gt.userType[];\n\tgym_name: string;\n\tsetShow(toShow: boolean): void;\n}\n\nclass ProblemEdit extends Component<PropsType, gt.problemType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props.problem, {\n\t\t\tdate: g.inputDate(props.problem.date)\n\t\t});\n\t}\n\n\tsubmit = (): void => {\n\t\tconst url = `/gym/${this.props.problem.gym_path}/problem/${\n\t\t\tthis.props.problem.id\n\t\t}/edit`;\n\t\tg.req(url, \"POST\", this.state)\n\t\t\t.then(g.refresh)\n\t\t\t.then(() => this.props.setShow(true));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\t<Link to={`/gym/${this.props.problem.gym_path}`}>\n\t\t\t\t\t\tTo {this.props.gym_name}\n\t\t\t\t\t</Link>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<input {...g.input(this, \"name\")} size={10} />\n\t\t\t\t\t<span> ({this.props.problem.id})</span>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<input {...g.input(this, \"difficulty\")} size={5} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<input {...g.dateInput(this, \"date\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<input {...g.input(this, \"location\")} size={8} />\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span> active </span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...g.input(this, \"active\", gt.InputType.Checkbox)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<input {...g.input(this, \"color\")} size={5} />\n\t\t\t\t\t<span> set by </span>\n\t\t\t\t\t<input {...g.input(this, \"setter\")} size={6} />\n\t\t\t\t</p>\n\t\t\t\t<Button onClick={this.submit.bind(this)}>Submit</Button>\n\t\t\t\t<span> </span>\n\t\t\t\t<Button onClick={() => this.props.setShow(true)}>Cancel</Button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ProblemEdit;\n","import React, { Component } from \"react\";\n\nimport MediaForProblem from \"../Media/MediaForProblem\";\nimport NewMedia from \"../Media/NewMedia\";\n\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport ProblemShow from \"./ProblemShow\";\nimport ProblemEdit from \"./ProblemEdit\";\n\ninterface PropsType {\n\tproblem: gt.problemType;\n\tmedia: gt.mediaType[];\n\tusers: gt.userType[];\n\tgym_name: string;\n}\n\ninterface StateType {\n\tshowing: boolean;\n}\n\nclass Problem extends Component<PropsType, StateType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = { showing: true };\n\t}\n\n\tsetShow(showing: boolean) {\n\t\tthis.setState({ showing });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t<div className={`${gs.bubble} ${gs.inline}`}>\n\t\t\t\t\t\t{this.state.showing ? (\n\t\t\t\t\t\t\t<ProblemShow\n\t\t\t\t\t\t\t\t{...this.props}\n\t\t\t\t\t\t\t\tsetShow={this.setShow.bind(this)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ProblemEdit\n\t\t\t\t\t\t\t\t{...this.props}\n\t\t\t\t\t\t\t\tsetShow={this.setShow.bind(this)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={gs.bubble}>\n\t\t\t\t\t\t\t<NewMedia\n\t\t\t\t\t\t\t\tproblem={this.props.problem}\n\t\t\t\t\t\t\t\tgym_name={this.props.gym_name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<MediaForProblem\n\t\t\t\t\tmedia={this.props.media}\n\t\t\t\t\tusers={this.props.users}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Problem;\n","import React, { Component } from \"react\";\n\nimport g, * as gt from \"../../../../../../globals\";\nimport gs from \"../../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\nimport Button from \"react-bootstrap/Button\";\n\nconst initial_problem: gt.problemType = {\n\tid: 0,\n\tname: \"\",\n\tdifficulty: \"\",\n\tlocation: \"\",\n\tdate: \"\",\n\tsetter: \"\",\n\tcolor: \"\",\n\tactive: true,\n\tgym_path: \"\"\n};\n\ninterface PropsType {\n\tgym_path: string;\n}\n\nclass NewProblem extends Component<PropsType, gt.problemType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, initial_problem, {\n\t\t\tdate: g.inputDate()\n\t\t});\n\t}\n\n\tsubmit = (): void => {\n\t\tg.req(`/gym/${this.props.gym_path}/new_problem`, \"POST\", this.state)\n\t\t\t.then(() => this.setState(initial_problem))\n\t\t\t.then(g.refresh);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`${gs.bubble} ${gs.inline} ${\n\t\t\t\t\tstyles.new_problem_container\n\t\t\t\t}`}\n\t\t\t>\n\t\t\t\t<h5>New Problem</h5>\n\t\t\t\t<div className={styles.new_problem}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>name</div>\n\t\t\t\t\t\t<input {...g.input(this, \"name\")} size={11} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>difficulty</div>\n\t\t\t\t\t\t<input {...g.input(this, \"difficulty\")} size={5} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>location</div>\n\t\t\t\t\t\t<input {...g.input(this, \"location\")} size={10} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>color</div>\n\t\t\t\t\t\t<input {...g.input(this, \"color\")} size={7} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>setter</div>\n\t\t\t\t\t\t<input {...g.input(this, \"setter\")} size={8} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>date</div>\n\t\t\t\t\t\t<input {...g.dateInput(this, \"date\")} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={gs.vertical_space_20} />\n\t\t\t\t<Button onClick={this.submit}>Submit</Button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default NewProblem;\n","import React, { Component } from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\ninterface PropsType extends gt.problemType {\n\tgym_path: string;\n}\n\nclass GymEditProblem extends Component<PropsType, gt.problemType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props, {\n\t\t\tdate: g.inputDate(props.date)\n\t\t});\n\t}\n\n\tsubmit = (): void => {\n\t\tconst url = `/gym/${this.props.gym_path}/problem/${this.props.id}/edit`;\n\t\tg.req(url, \"POST\", this.state).then(g.refresh);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={gs.bubble}>\n\t\t\t\t<div>id: {this.props.id}</div>\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\t<div>name</div>\n\t\t\t\t\t\t<input {...g.input(this, \"name\")} size={7} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\t<div>difficulty</div>\n\t\t\t\t\t\t<input {...g.input(this, \"difficulty\")} size={4} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\t<div>location</div>\n\t\t\t\t\t\t<input {...g.input(this, \"location\")} size={5} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\t<div>color</div>\n\t\t\t\t\t\t<input {...g.input(this, \"color\")} size={5} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\t<div>setter</div>\n\t\t\t\t\t\t<input {...g.input(this, \"setter\")} size={5} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\t<div>date</div>\n\t\t\t\t\t\t<input {...g.dateInput(this, \"date\")} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<div>active</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t{...g.input(\n\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\"active\",\n\t\t\t\t\t\t\t\t\tgt.InputType.Checkbox\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={`${gs.align_center} ${gs.margin}`}>\n\t\t\t\t\t\t<Button onClick={this.submit}>Submit</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GymEditProblem;\n","import React, { Component } from \"react\";\n\nimport NewProblem from \"./NewProblem\";\nimport GymEditProblems from \"./GymEditProblems\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport { Link } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\n\ninterface PropsType {\n\tgym: gt.gymType;\n\tproblems: gt.problemType[];\n}\nclass GymEdit extends Component<PropsType, gt.gymType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props.gym);\n\t}\n\n\tsubmit = (): void => {\n\t\tg.req(`/gym/${this.props.gym.path}/edit`, \"POST\", this.state).then(\n\t\t\tg.refresh\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<g.Title title={`Edit: ${this.props.gym.name}`} />\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={`${gs.bubble} ${gs.inline}`}>\n\t\t\t\t\t\t\t<Link to={`/gym/${this.props.gym.path}`}>\n\t\t\t\t\t\t\t\tTo {this.props.gym.name}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<div className={gs.vertical_space_20} />\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<div>name</div>\n\t\t\t\t\t\t\t\t<input {...g.input(this, \"name\")} />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<div>description</div>\n\t\t\t\t\t\t\t\t<textarea {...g.input(this, \"description\")} />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Button onClick={this.submit} variant=\"primary\">\n\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<NewProblem gym_path={this.props.gym.path} />\n\t\t\t\t</div>\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t{this.props.problems.map(problem => (\n\t\t\t\t\t\t<GymEditProblems\n\t\t\t\t\t\t\tkey={problem.id}\n\t\t\t\t\t\t\tgym_path={this.props.gym.path}\n\t\t\t\t\t\t\t{...problem}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GymEdit;\n","import React, { Component } from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nimport g, * as gt from \"../../../../../../globals\";\nimport gs from \"../../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\nconst initial_gym: gt.gymType = { id: 0, name: \"\", path: \"\", description: \"\" };\nclass GymsAdmin extends Component<object, gt.gymType> {\n\tconstructor(props: object) {\n\t\tsuper(props);\n\t\tthis.state = initial_gym;\n\t}\n\n\tsubmit = () => {\n\t\tg.req(\"/admin/new_gym\", \"POST\", this.state)\n\t\t\t.then(() => this.setState(initial_gym))\n\t\t\t.then(g.refresh)\n\t\t\t.catch(response => response.text())\n\t\t\t.then(err => alert(err.split(\"\\n\")[0]));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`${gs.bubble} ${gs.margin} ${styles.new_gym}`}>\n\t\t\t\t<h3>New Gym</h3>\n\t\t\t\t<p>\n\t\t\t\t\t<div>path</div>\n\t\t\t\t\t<input {...g.input(this, \"path\", gt.InputType.Text)} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<div>name</div>\n\t\t\t\t\t<input {...g.input(this, \"name\", gt.InputType.Text)} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\t<div>description</div>\n\t\t\t\t\t<textarea {...g.input(this, \"description\")} />\n\t\t\t\t</p>\n\t\t\t\t<Button onClick={this.submit} variant=\"primary\">\n\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GymsAdmin;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport GymsAdmin from \"./GymsAdmin\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\nfunction Gyms(props: { gyms: gt.gymType[] }) {\n\treturn (\n\t\t<div>\n\t\t\t<g.Title title=\"The Climbing App\" />\n\t\t\t<div className={`${gs.flex} ${styles.gyms_parent}`}>\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t{props.gyms.map(gym => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={gym.id}\n\t\t\t\t\t\t\tclassName={`${gs.bubble} ${styles.gym}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Link to={`/gym/${gym.path}`}>\n\t\t\t\t\t\t\t\t<h3>{gym.name}</h3>\n\t\t\t\t\t\t\t\t<div>{gym.description}</div>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t{g.common().user.is_admin && <GymsAdmin />}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Gyms;\n","import React from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport Media from \".\";\n\nfunction profileLink(\n\tm: gt.mediaType,\n\tproblemsDict: { [id: number]: gt.problemType }\n) {\n\treturn (\n\t\t<Link to={`/gym/${m.gym_path}/problem/${m.problem_id}`}>\n\t\t\t<div className={gs.padding}>\n\t\t\t\t<div>{problemsDict[m.problem_id].name}</div>\n\t\t\t\t<div>\n\t\t\t\t\t{g.formatDate(new Date(m.timestamp).toString())} ({m.id})\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Link>\n\t);\n}\n\nfunction MediaForProfile(props: {\n\tmedia: gt.mediaType[];\n\tproblems: gt.problemType[];\n}) {\n\tconst problemsDict = Media.keyById(props.problems);\n\treturn (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t{props.media.map(m => (\n\t\t\t\t\t<div key={m.id} className={gs.bubble}>\n\t\t\t\t\t\t{profileLink(m, problemsDict)}\n\t\t\t\t\t\t{Media.mediaData(m)}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default MediaForProfile;\n","import React, { Component } from \"react\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport MediaForProfile from \"../Media/MediaForProfile\";\n\nimport styles from \"./index.module.css\";\n\ninterface PropsType {\n\tuser: gt.userType;\n\tmedia: gt.mediaType[];\n\tproblems: gt.problemType[];\n}\n\ninterface StateType {\n\tis_admin: boolean;\n\tis_verified: boolean;\n}\n\nclass Profile extends Component<PropsType, StateType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tis_verified: props.user.is_verified,\n\t\t\tis_admin: props.user.is_admin\n\t\t};\n\t}\n\n\tcheckboxProps(name: string) {\n\t\tconst original_state = Object.assign({}, this.state);\n\t\tconst g_props = g.input(this, name, gt.InputType.Checkbox);\n\t\tconst original_on_change = g_props.onChange;\n\t\tconst disabled = !g.common().user.is_admin;\n\t\tconst onChange: typeof original_on_change = event => {\n\t\t\tconst url = `/admin/user/${this.props.user.id}/edit`;\n\t\t\tconst state_change = original_on_change(event);\n\t\t\tg.req(url, \"POST\", state_change)\n\t\t\t\t.then(g.unready)\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.setState(original_state);\n\t\t\t\t\tconsole.error(err);\n\t\t\t\t});\n\t\t\treturn state_change;\n\t\t};\n\t\treturn Object.assign(g_props, { onChange, disabled });\n\t}\n\n\tstatic profileDiv(user: gt.userType) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\t{user.name} ({user.id})\n\t\t\t\t</p>\n\t\t\t\t<p>{user.email}</p>\n\t\t\t\t<p>{new Date(user.timestamp).toLocaleString()}</p>\n\t\t\t\t<img className={styles.profile_pic} src={user.image} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tpermissionDiv() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\tis admin: <input {...this.checkboxProps(\"is_admin\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tis verified:{\" \"}\n\t\t\t\t\t<input {...this.checkboxProps(\"is_verified\")} />\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={`${gs.bubble} ${styles.profile}`}>\n\t\t\t\t\t<g.Title title={this.props.user.name} />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{Profile.profileDiv(this.props.user)}\n\t\t\t\t\t\t{g.common().user.is_admin && this.permissionDiv()}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<MediaForProfile\n\t\t\t\t\tmedia={this.props.media}\n\t\t\t\t\tproblems={this.props.problems}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Profile;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport g, * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport profile from \".\";\n\nfunction LatestUsers(props: { users: gt.userType[] }) {\n\treturn (\n\t\t<div>\n\t\t\t<g.Title title=\"Latest Users\" />\n\t\t\t<div className={gs.flex}>\n\t\t\t\t{props.users.map(user => (\n\t\t\t\t\t<div key={user.id} className={gs.bubble}>\n\t\t\t\t\t\t<Link to={`/user/${user.id}`}>\n\t\t\t\t\t\t\t{profile.profileDiv(user)}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default LatestUsers;\n","import React, { ReactNode } from \"react\";\nimport {\n\tSwitch,\n\tRoute,\n\tRouteComponentProps,\n\tStaticContext\n} from \"react-router\";\n\nimport Gym from \"./Gym\";\nimport Problem from \"./Problem\";\nimport GymEdit from \"./GymEdit\";\nimport Gyms from \"./Gyms\";\nimport LatestUsers from \"./Profile/LatestUsers\";\nimport Profile from \"./Profile\";\n\nimport g from \"../../../../globals\";\n\nfunction p(\n\tpath: string,\n\trender: (params: { [param: string]: string }) => ReactNode\n) {\n\treturn {\n\t\texact: true,\n\t\tpath,\n\t\trender: (r_props: RouteComponentProps<any, StaticContext, any>) =>\n\t\t\tg.common().path === encodeURI(r_props.location.pathname) &&\n\t\t\trender(r_props.match.params)\n\t};\n}\n\nfunction ClimbRouter(props: any) {\n\treturn (\n\t\t<div>\n\t\t\t<Switch>\n\t\t\t\t<Route {...p(\"/\", () => <Gyms gyms={props.gyms} />)} />\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/admin/user/latest\", () => (\n\t\t\t\t\t\t<LatestUsers users={props.users} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/user/:user_id\", () => (\n\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\tuser={props.user}\n\t\t\t\t\t\t\tmedia={props.media}\n\t\t\t\t\t\t\tproblems={props.problems}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path\", () => (\n\t\t\t\t\t\t<Gym\n\t\t\t\t\t\t\tgym={props.gym}\n\t\t\t\t\t\t\tclimbed_problems={props.climbed_problems}\n\t\t\t\t\t\t\tproblems={props.problems}\n\t\t\t\t\t\t\tpictures={props.pictures}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path/edit\", () => (\n\t\t\t\t\t\t<GymEdit gym={props.gym} problems={props.problems} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path/problem/:problem_id\", () => (\n\t\t\t\t\t\t<Problem\n\t\t\t\t\t\t\tproblem={props.problem}\n\t\t\t\t\t\t\tgym_name={props.gym_name}\n\t\t\t\t\t\t\tmedia={props.media}\n\t\t\t\t\t\t\tusers={props.users}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nexport default ClimbRouter;\n","import React from \"react\";\n\nimport Header from \"./Header\";\nimport ClimbRouter from \"./ClimbRouter\";\n\nimport gs from \"../../../globals.module.css\";\n\nfunction Main(props: any) {\n\treturn (\n\t\t<div className={gs.main}>\n\t\t\t<Header />\n\t\t\t<ClimbRouter {...props} />\n\t\t</div>\n\t);\n}\n\nexport default Main;\n","import React, { Component } from \"react\";\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\n\nimport Main from \"./Main\";\n\nimport g, * as gt from \"../../globals\";\n\nclass App extends Component<\n\tRouteComponentProps,\n\t{ ready: boolean; data?: any }\n> {\n\tconstructor(props: RouteComponentProps) {\n\t\tsuper(props);\n\n\t\tthis.state = { ready: false };\n\n\t\tg.setApp(this);\n\n\t\tthis.props.history.listen(g.refresh);\n\t}\n\n\tcomponentDidMount(): void {\n\t\tg.refresh();\n\t}\n\n\trender(): any {\n\t\tif (!this.state.ready) return null;\n\t\treturn <Main {...this.state.data} />;\n\t}\n\n\t_refresh = (_unready: any): Promise<any> => {\n\t\tconst unready = _unready === g.unready_o;\n\t\tconsole.log(\"refresh\", unready, this.props.history.location.pathname);\n\t\t// todo fix to actually unready\n\t\t// if (unready) this.setState({ ready: false });\n\t\tif (unready) location.reload();\n\t\treturn g\n\t\t\t.req(`${this.props.history.location.pathname}`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.setState(Object.assign({ ready: true }, { data }));\n\t\t\t\treturn data;\n\t\t\t});\n\t};\n\n\t_common = (): gt.commonType => {\n\t\treturn this.state.data.common;\n\t};\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport App from \"./components/App\";\n\nconst log = console.log;\nconsole.log = function() {\n\tconst arr = Array.from(arguments);\n\tlog(...arr);\n\treturn arr[0];\n};\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}