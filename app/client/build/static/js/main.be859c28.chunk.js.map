{"version":3,"sources":["globals.module.css","components/App/Main/ClimbRouter/Profile/index.module.css","components/App/Main/ClimbRouter/Gym/Problem/Media.module.css","components/App/Main/Header/Auth/index.module.css","components/App/Main/Header/index.module.css","components/App/Main/ClimbRouter/Gym/GymProblems.module.css","components/App/Main/ClimbRouter/Gym/NewProblem.module.css","components/App/Main/ClimbRouter/Gyms/index.module.css","components/App/Main/ClimbRouter/Gym/Filters.module.css","components/App/Main/ClimbRouter/Gyms/GymsAdmin/index.module.css","serviceWorker.js","globals.tsx","components/App/Main/Header/Auth/index.tsx","components/App/Main/Header/index.tsx","components/App/Main/ClimbRouter/Gym/Filters.tsx","components/App/Main/ClimbRouter/Gym/GymProblems.tsx","components/App/Main/ClimbRouter/Gym/index.tsx","components/App/Main/ClimbRouter/Gym/Problem/Media.tsx","components/App/Main/ClimbRouter/Gym/Problem/index.tsx","components/App/Main/ClimbRouter/Gym/NewProblem.tsx","components/App/Main/ClimbRouter/Gym/EditProblem.tsx","components/App/Main/ClimbRouter/Gym/GymEdit.tsx","components/App/Main/ClimbRouter/Gyms/GymsAdmin/index.tsx","components/App/Main/ClimbRouter/Gyms/index.tsx","components/App/Main/ClimbRouter/Profile/index.tsx","components/App/Main/ClimbRouter/LatestUsers/index.tsx","components/App/Main/ClimbRouter/index.tsx","components/App/Main/index.tsx","components/App/index.tsx","index.js"],"names":["module","exports","bubble","inline","flex","margin","padding","main","vertical_space_10","vertical_space_20","text_align","profile","profile_pic","video_div","video","image","align_end","g_sign_in","header","icon","picture_div","picture","new_problem_container","new_problem","gym","gyms","gyms_parent","filters","new_gym","Boolean","window","location","hostname","match","InputType","app","input_type_to_field","_input_type_to_field","Object","defineProperty","Text","Checkbox","err","console","error","refresh","_","_refresh","unready_o","Title","componentDidMount","document","title","_this","props","render","Component","globals","req","url","method","body","fetch","concat","JSON","stringify","headers","Content-Type","then","response","status","input","c","name","type","_ref","undefined","state","Error","field","event","t","target","setState","common","_common","setApp","_app","unready","inputDate","dateString","Date","toISOString","slice","formatDate","toDateString","login","loggedIn","id_token","Zi","g","logout","google_promise","gapi","auth2","getAuthInstance","signOut","req_promise","Promise","all","user","id","Auth","onSignIn","preload","getElementById","script","createElement","src","href","head","appendChild","react_default","a","className","styles","content","google_signin_client_id","hidden","data-onsuccess","Button_default","onClick","variant","Link","to","gs","Header","SelectType","is_admin","Header_Auth","Filters","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","difficulty","date","active","color","setter","_this2","g_props","original_on_change","onChange","assign","state_change","updateFilter","value","problemsBank","map","problem","sort","selectAction","bind","getSelectOptions","key","inputProperties","size","selectComponent","climbed_problems","toLowerCase","indexOf","climbed","shouldFilterSelect","GymProblems","problems","forEach","toString","gt","original_state","path","catch","checkboxProps","filter","shouldDisplayProblem","length","renderProblem","Gym","pictures","problem_id","description","is_verified","Gym_Filters","Gym_GymProblems","new_media_ref","React","createRef","Media","usersDict","users","media","m","profile_styles","user_id","data","mime","encodeURIComponent","paddingPercent","height","width","style","paddingTop","border","scrolling","allowFullScreen","mediaData","newMedia","gym_path","ref","current","files","gcs_key","file","split","alert","json","token","folder","bucket","getTime","endpoint","Authorization","gcs_path","gcs_id","submitNewMedia","Problem","gym_name","Problem_Media","initial_problem","NewProblem","submit","min","max","EditProblem","GymEdit","Gym_NewProblem","Gym_EditProblem","initial_gym","GymsAdmin","text","Gyms","Gyms_GymsAdmin","Profile","disabled","profileDiv","permissionDiv","email","timestamp","toLocaleString","LatestUsers","p","exact","r_props","encodeURI","pathname","params","ClimbRouter","Switch","Route","ClimbRouter_Gyms","ClimbRouter_LatestUsers","ClimbRouter_Profile","ClimbRouter_Gym","Gym_GymEdit","Gym_Problem","Main","Main_Header","Main_ClimbRouter","App","_unready","log","history","reload","ready","assertThisInitialized","listen","App_Main","withRouter","arr","Array","from","arguments","apply","toConsumableArray","ReactDOM","BrowserRouter","components_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.be859c28.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bubble\":\"globals_bubble__2iKJc\",\"inline\":\"globals_inline__oEJv6\",\"flex\":\"globals_flex__3XGsp\",\"margin\":\"globals_margin__3fqZc\",\"padding\":\"globals_padding__3NnhQ\",\"main\":\"globals_main__2uw_J\",\"vertical_space_10\":\"globals_vertical_space_10__273Cj\",\"vertical_space_20\":\"globals_vertical_space_20__3kQ7D\",\"text_align\":\"globals_text_align__3Cv2t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__36MGf\",\"profile_pic\":\"Profile_profile_pic__3pYRa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_pic\":\"Media_profile_pic__3YdOs\",\"video_div\":\"Media_video_div__3Q2Yf\",\"video\":\"Media_video__FLVHK\",\"image\":\"Media_image__eUwmt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"align_end\":\"Auth_align_end__2AnBq\",\"g_sign_in\":\"Auth_g_sign_in__2_TB9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1HgZT\",\"icon\":\"Header_icon__vHi87\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picture_div\":\"GymProblems_picture_div__2qdMV\",\"picture\":\"GymProblems_picture__cBfHP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_problem_container\":\"NewProblem_new_problem_container__GOaJt\",\"new_problem\":\"NewProblem_new_problem__3zCKq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gym\":\"Gyms_gym__1rDWb\",\"gyms\":\"Gyms_gyms__1axa3\",\"gyms_parent\":\"Gyms_gyms_parent__hj_Hs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filters\":\"Filters_filters__Ro1fw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_gym\":\"GymsAdmin_new_gym__3lGYi\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === \"localhost\" ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === \"[::1]\" ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener(\"load\", () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\n\t\t\t\t\t\t\t\"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null &&\n\t\t\t\t\tcontentType.indexOf(\"javascript\") === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif (\"serviceWorker\" in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React, { Component } from \"react\";\n\ninterface userType {\n\tid: number;\n\tis_admin: boolean;\n\tis_verified: boolean;\n\temail: string;\n\tname: string;\n\timage: string;\n\ttimestamp: number;\n}\n\ninterface commonType {\n\tpath: string;\n\tgoogle_signin_client_id: string;\n\tuser: userType;\n}\n\ninterface gymType {\n\tid: number;\n\tpath: string;\n\tname: string;\n\tdescription: string;\n}\n\ninterface problemType {\n\tid: number;\n\tname: string;\n\tdifficulty: string;\n\tlocation: string;\n\tdate: string;\n\tsetter: string;\n\tactive: boolean;\n\tcolor: string;\n\tgym_path: string;\n\tpicture?: string;\n}\n\ninterface mediaType {\n\tid: number;\n\tproblem_id: number;\n\tgcs_path: string;\n\tuser_id: number;\n\tfile_size: number;\n\tmime: string;\n\tdata: string;\n\twidth: number;\n\theight: number;\n\tpicture: string;\n}\n\nfunction req(url: string, method?: string, body?: any): Promise<Response> {\n\treturn fetch(`/api${url}`, {\n\t\tmethod,\n\t\tbody: JSON.stringify(body),\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t}\n\t}).then(response => {\n\t\tif (response.status >= 400) {\n\t\t\tthrow response;\n\t\t} else {\n\t\t\treturn response;\n\t\t}\n\t}) as Promise<Response>;\n}\n\nenum InputType {\n\tText = \"text\",\n\tCheckbox = \"checkbox\"\n}\n\nconst input_type_to_field = {\n\t[InputType.Text]: \"value\",\n\t[InputType.Checkbox]: \"checked\"\n};\n\nconst input = (\n\tc: Component<object, Readonly<any>>,\n\tname: string,\n\ttype?: InputType\n) => {\n\tif (c.state[name] === undefined)\n\t\tthrow new Error(`bad name - ${name} - ${JSON.stringify(c.state)}`);\n\tconst field = type === undefined ? \"value\" : input_type_to_field[type];\n\treturn {\n\t\tname,\n\t\ttype: type,\n\t\t[field]: c.state[name],\n\t\tonChange: (\n\t\t\tevent: React.ChangeEvent<HTMLInputElement & HTMLTextAreaElement>\n\t\t) => {\n\t\t\tconst t: any = event.target;\n\t\t\tconst state = { [event.target.name]: t[field] };\n\t\t\tc.setState(state);\n\t\t\treturn state;\n\t\t}\n\t};\n};\n\nconst err = console.error;\n\nvar app: { _refresh(_: any): void; _common(): commonType };\n\nfunction setApp(_app: typeof app) {\n\tapp = _app;\n}\n\nfunction refresh(_?: any) {\n\treturn app._refresh(_);\n}\n\nfunction common() {\n\treturn app._common();\n}\n\nconst unready_o = Object();\n\nfunction unready() {\n\trefresh(unready_o);\n}\n\nfunction inputDate(dateString?: string) {\n\tconst date = dateString === undefined ? new Date() : new Date(dateString);\n\treturn date.toISOString().slice(0, 10);\n}\n\nfunction formatDate(dateString: string): string {\n\treturn new Date(dateString).toDateString();\n}\n\nclass Title extends Component<{ title: string }> {\n\tcomponentDidMount = () => {\n\t\tdocument.title = this.props.title;\n\t};\n\n\trender = () => null;\n}\n\nexport default {\n\treq,\n\tinput,\n\terr,\n\trefresh,\n\tcommon,\n\tsetApp,\n\tunready,\n\tunready_o,\n\tinputDate,\n\tTitle,\n\tformatDate\n};\n\n// @ts-ignore Type error: Cannot re-export a type when the '--isolatedModules' flag is provided.  TS1205\n// prettier-ignore\nexport { commonType, userType, gymType, problemType, mediaType, InputType };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\n\nimport g from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\ndeclare global {\n\tinterface Window {\n\t\tonSignIn(_: any): void;\n\t\tgapi: any;\n\t}\n}\n\nfunction login(response: any): void {\n\tif (loggedIn()) return;\n\tconst id_token = response.Zi.id_token;\n\tg.req(\"/auth/login\", \"POST\", { id_token }).then(g.unready);\n}\n\nfunction logout(): void {\n\tconst google_promise = window.gapi.auth2.getAuthInstance().signOut();\n\tconst req_promise = g.req(\"/auth/logout\", \"POST\");\n\n\tPromise.all([google_promise, req_promise]).then(g.unready);\n}\n\nfunction loggedIn(): boolean {\n\treturn g.common().user.id !== undefined;\n}\n\nfunction Auth() {\n\tif (window.onSignIn === undefined) {\n\t\tconst preload = document.getElementById(\n\t\t\t\"google-platform-preload\"\n\t\t) as HTMLLinkElement;\n\t\tconst script = document.createElement(\"script\");\n\t\tscript.src = preload.href;\n\t\tdocument.head.appendChild(script);\n\n\t\twindow.onSignIn = login;\n\t}\n\n\treturn (\n\t\t<div className={styles.align_end}>\n\t\t\t<meta\n\t\t\t\tname=\"google-signin-client_id\"\n\t\t\t\tcontent={g.common().google_signin_client_id}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\thidden={loggedIn()}\n\t\t\t\tid=\"sign-in-button\"\n\t\t\t\tclassName={`g-signin2 ${styles.g_sign_in}`}\n\t\t\t\tdata-onsuccess=\"onSignIn\"\n\t\t\t/>\n\n\t\t\t{loggedIn() && (\n\t\t\t\t<div>\n\t\t\t\t\t<Button onClick={logout} variant=\"primary\">\n\t\t\t\t\t\tSign out\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/user/${g.common().user.id}`}\n\t\t\t\t\t\tclassName={gs.margin}\n\t\t\t\t\t>\n\t\t\t\t\t\tProfile\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Auth;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Auth from \"./Auth\";\n\nimport g from \"../../../../globals\";\nimport gs from \"../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\nfunction Header() {\n\treturn (\n\t\t<div className={`${styles.header} ${gs.bubble}`}>\n\t\t\t<Link to={\"/\"}>\n\t\t\t\t<img src=\"/favicon.ico\" className={styles.icon} />\n\t\t\t</Link>\n\t\t\t{g.common().user.is_admin && (\n\t\t\t\t<Link to={\"/admin/user/latest\"} className={gs.margin}>\n\t\t\t\t\tLatest Users\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t\t<Auth />\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","import React, { Component } from \"react\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./Filters.module.css\";\n\ninterface PropsType {\n\tupdateFilter: any;\n\tproblemsBank: gt.problemType[];\n}\n\ninterface StateType {\n\tname: string;\n\tdifficulty: string;\n\tlocation: string;\n\tdate: string;\n\tactive: string;\n\tcolor: string;\n\tsetter: string;\n}\n\nenum SelectType {\n\tdifficulty = \"difficulty\",\n\tlocation = \"location\",\n\tcolor = \"color\",\n\tsetter = \"setter\"\n}\n\nclass Filters extends Component<PropsType, StateType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tname: \"\",\n\t\t\tdifficulty: \"\",\n\t\t\tlocation: \"\",\n\t\t\tdate: \"\",\n\t\t\tactive: \"\",\n\t\t\tcolor: \"\",\n\t\t\tsetter: \"\"\n\t\t};\n\t}\n\n\tstatic shouldDisplayProblem(\n\t\tproblem: gt.problemType,\n\t\tfilters: any,\n\t\tclimbed_problems: number[]\n\t): boolean {\n\t\tif (filters === null) return true;\n\t\tif (\n\t\t\tfilters.name !== undefined &&\n\t\t\tproblem.name.toLowerCase().indexOf(filters.name.toLowerCase()) ===\n\t\t\t\t-1\n\t\t)\n\t\t\treturn false;\n\t\tif (\n\t\t\tBoolean(filters.climbed) &&\n\t\t\t(filters.climbed === \"true\") ===\n\t\t\t\t(climbed_problems.indexOf(problem.id) === -1)\n\t\t)\n\t\t\treturn false;\n\t\tif (Filters.shouldFilterSelect(SelectType.difficulty, problem, filters))\n\t\t\treturn false;\n\t\tif (Filters.shouldFilterSelect(SelectType.location, problem, filters))\n\t\t\treturn false;\n\t\tif (\n\t\t\tBoolean(filters.active) &&\n\t\t\tBoolean(problem.active) === (filters.active === \"true\")\n\t\t)\n\t\t\treturn false;\n\t\tif (Filters.shouldFilterSelect(SelectType.color, problem, filters))\n\t\t\treturn false;\n\t\tif (Filters.shouldFilterSelect(SelectType.setter, problem, filters))\n\t\t\treturn false;\n\t\treturn true;\n\t}\n\n\tstatic shouldFilterSelect(\n\t\tfield: SelectType,\n\t\tproblem: gt.problemType,\n\t\tfilters: StateType\n\t): boolean {\n\t\treturn (\n\t\t\tfilters[field] !== undefined &&\n\t\t\tfilters[field] !== \"\" &&\n\t\t\tfilters[field] !== problem[field]\n\t\t);\n\t}\n\n\tinputProperties(name: string): any {\n\t\tconst g_props = g.input(this, name);\n\t\tconst original_on_change = g_props.onChange;\n\t\tconst onChange: typeof original_on_change = event => {\n\t\t\tconst state_change = original_on_change(event);\n\t\t\tthis.props.updateFilter(state_change);\n\t\t\treturn state_change;\n\t\t};\n\t\treturn Object.assign(g_props, { onChange });\n\t}\n\n\tselectAction(event: React.ChangeEvent<HTMLSelectElement>) {\n\t\tthis.props.updateFilter({ [event.target.name]: event.target.value });\n\t}\n\n\tgetSelectOptions(field: SelectType): any[] {\n\t\treturn this.props.problemsBank\n\t\t\t.map(problem => problem[field] as string)\n\t\t\t.sort();\n\t}\n\n\tselectComponent(field: SelectType) {\n\t\treturn (\n\t\t\t<select name={field} onChange={this.selectAction.bind(this)}>\n\t\t\t\t<option value={\"\"}>All</option>\n\t\t\t\t{this.getSelectOptions(field).map(value => (\n\t\t\t\t\t<option key={value}>{value}</option>\n\t\t\t\t))}\n\t\t\t</select>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t// todo minimizeable\n\t\t\t// todo url state https://dev.to/gaels/an-alternative-to-handle-global-state-in-react-the-url--3753\n\t\t\t<div className={gs.bubble}>\n\t\t\t\t<h4>Filters</h4>\n\t\t\t\t<div className={`${styles.filters} ${gs.flex}`}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Name</p>\n\t\t\t\t\t\t<input {...this.inputProperties(\"name\")} size={7} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Climbed</p>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname={\"climbed\"}\n\t\t\t\t\t\t\tonChange={this.selectAction.bind(this)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value={\"\"}>All</option>\n\t\t\t\t\t\t\t<option value={\"true\"}>yes</option>\n\t\t\t\t\t\t\t<option value={\"false\"}>no</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Difficulty</p>\n\t\t\t\t\t\t{this.selectComponent(SelectType.difficulty)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Location</p>\n\t\t\t\t\t\t{this.selectComponent(SelectType.location)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Status</p>\n\t\t\t\t\t\t<select\n\t\t\t\t\t\t\tname={\"active\"}\n\t\t\t\t\t\t\tonChange={this.selectAction.bind(this)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value={\"\"}>All</option>\n\t\t\t\t\t\t\t<option value={\"true\"}>Active</option>\n\t\t\t\t\t\t\t<option value={\"false\"}>Retired</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Color</p>\n\t\t\t\t\t\t{this.selectComponent(SelectType.color)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>Setter</p>\n\t\t\t\t\t\t{this.selectComponent(SelectType.setter)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Filters;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./GymProblems.module.css\";\n\ninterface PropsType {\n\tgym: gt.gymType & {\n\t\tclimbed_problems: number[];\n\t\tproblems: gt.problemType[];\n\t};\n\tshouldDisplayProblem(problem: gt.problemType): boolean;\n}\n\ninterface StateType {\n\t[id: number]: boolean;\n}\n\nclass GymProblems extends Component<PropsType, StateType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tconst state: StateType = {};\n\t\tprops.gym.problems.forEach((problem: gt.problemType) => {\n\t\t\tstate[problem.id] =\n\t\t\t\tprops.gym.climbed_problems.indexOf(problem.id) !== -1;\n\t\t});\n\t\tthis.state = state;\n\t}\n\n\tcheckboxProps(id: number) {\n\t\tconst g_props = g.input(this, id.toString(), gt.InputType.Checkbox);\n\t\tconst original_on_change = g_props.onChange;\n\t\tconst onChange: typeof original_on_change = event => {\n\t\t\tconst original_state = Object.assign({}, this.state);\n\t\t\tconst state_change = original_on_change(event);\n\t\t\tg.req(`/gym/${this.props.gym.path}/problem/${id}/climb`, \"POST\", {\n\t\t\t\tclimbed: state_change[id]\n\t\t\t})\n\t\t\t\t.then(g.refresh)\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.setState(original_state);\n\t\t\t\t\tg.err(err);\n\t\t\t\t});\n\t\t\treturn state_change;\n\t\t};\n\t\treturn Object.assign(g_props, { onChange });\n\t}\n\n\trenderProblem(problem: gt.problemType) {\n\t\treturn (\n\t\t\t<Link\n\t\t\t\tto={`${this.props.gym.path}/problem/${problem.id}`}\n\t\t\t\tkey={problem.id}\n\t\t\t\tclassName={`${gs.bubble} ${gs.flex}`}\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<h4>{`${problem.name} (${problem.id})`}</h4>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span>{problem.difficulty} </span>\n\t\t\t\t\t\t\t<input {...this.checkboxProps(problem.id)} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>{g.formatDate(problem.date)}</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{problem.location}\n\t\t\t\t\t\t{Boolean(problem.active) && <span> (retired)</span>}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{problem.color}\n\t\t\t\t\t\t{Boolean(problem.setter) && (\n\t\t\t\t\t\t\t<span> - set by {problem.setter}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t{Boolean(problem.picture) && (\n\t\t\t\t\t<div className={styles.picture_div}>\n\t\t\t\t\t\t<img className={styles.picture} src={problem.picture} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Link>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst problems = this.props.gym.problems.filter(\n\t\t\tthis.props.shouldDisplayProblem\n\t\t);\n\t\tif (problems.length > 0) {\n\t\t\treturn (\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t{problems.map(this.renderProblem.bind(this))}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className={gs.text_align}>\n\t\t\t\t\t<div className={`${gs.bubble} ${gs.inline}`}>\n\t\t\t\t\t\tNo problems match your filter\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default GymProblems;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport Filters from \"./Filters\";\nimport GymProblems from \"./GymProblems\";\n\ninterface PropsType {\n\tgym: gt.gymType & {\n\t\tclimbed_problems: number[];\n\t\tproblems: gt.problemType[];\n\t\tpictures: { picture: string; problem_id: number }[];\n\t};\n}\n\nclass Gym extends Component<PropsType, any> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tlet pictures: { [problem_id: number]: string } = {};\n\t\tprops.gym.pictures.forEach(picture => {\n\t\t\tpictures[picture.problem_id] = picture.picture;\n\t\t});\n\t\tprops.gym.problems.forEach(problem => {\n\t\t\tproblem.picture = pictures[problem.id];\n\t\t});\n\t}\n\n\tupdateFilter(filters: any) {\n\t\tthis.setState(filters);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<g.Title title={this.props.gym.name} />\n\t\t\t\t<div className={`${gs.inline} ${gs.bubble}`}>\n\t\t\t\t\t<h2>{this.props.gym.name}</h2>\n\t\t\t\t\t<div>{this.props.gym.description}</div>\n\t\t\t\t\t{g.common().user.is_verified && (\n\t\t\t\t\t\t<Link to={`${this.props.gym.path}/edit`}>Edit</Link>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<Filters\n\t\t\t\t\tproblemsBank={this.props.gym.problems}\n\t\t\t\t\tupdateFilter={this.updateFilter.bind(this)}\n\t\t\t\t/>\n\t\t\t\t<GymProblems\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tshouldDisplayProblem={problem =>\n\t\t\t\t\t\tFilters.shouldDisplayProblem(\n\t\t\t\t\t\t\tproblem,\n\t\t\t\t\t\t\tthis.state,\n\t\t\t\t\t\t\tthis.props.gym.climbed_problems\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Gym;\n","import React, { RefObject } from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nimport { Link } from \"react-router-dom\";\n\nimport g from \"../../../../../../globals\";\nimport * as gt from \"../../../../../../globals\";\nimport gs from \"../../../../../../globals.module.css\";\n\nimport styles from \"./Media.module.css\";\nimport profile_styles from \"../../Profile/index.module.css\";\n\nconst new_media_ref: RefObject<HTMLInputElement> = React.createRef();\n\nfunction newMedia(gym_path: string, problem_id: number) {\n\tif (g.common().user.id === undefined) {\n\t\treturn <p>Login and become verified to upload media.</p>;\n\t} else if (!g.common().user.is_verified) {\n\t\treturn (\n\t\t\t<p>\n\t\t\t\tEmail climb.nomorerice@gmail.com with a link to your profile to\n\t\t\t\tbecome verified to upload media.\n\t\t\t</p>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className={gs.bubble}>\n\t\t\t\t\t<p>New Media</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input ref={new_media_ref} type=\"file\" name=\"upload\" />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => submitNewMedia(gym_path, problem_id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction submitNewMedia(gym_path: string, problem_id: number) {\n\tconst input = new_media_ref.current;\n\tif (input === null) return;\n\tconst files = input.files;\n\tif (!files) return;\n\tconst file = files[0];\n\tconst mime = file.type.split(\"/\")[0];\n\tconst acceptable_media = [\"image\", \"video\"];\n\tif (acceptable_media.indexOf(mime) === -1) return alert(\"invalid file\");\n\tlet gcs_key: string;\n\tg.req(\"/get_gcs_key\")\n\t\t.then(response => response.json())\n\t\t.then(response => {\n\t\t\tgcs_key = response.token;\n\t\t\tconst folder = response.folder;\n\t\t\tconst bucket = response.bucket;\n\n\t\t\tconst name = `${folder}/${new Date().getTime()}_${file.name}`;\n\t\t\tconst endpoint = `https://www.googleapis.com/upload/storage/v1/b/${bucket}/o?uploadType=media&name=${name}`;\n\n\t\t\treturn fetch(endpoint, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: file,\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${gcs_key}`,\n\t\t\t\t\t\"Content-Type\": file.type\n\t\t\t\t\t// 'Content-Length': file.size,\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t\t.then(response => response.json())\n\t\t.then(response =>\n\t\t\tg.req(`/gym/${gym_path}/problem/${problem_id}/upload`, \"POST\", {\n\t\t\t\tgcs_path: response.name,\n\t\t\t\tgym_path,\n\t\t\t\tgcs_id: response.id,\n\t\t\t\tmime: file.type,\n\t\t\t\tsize: file.size,\n\t\t\t\tgcs_key: gcs_key\n\t\t\t})\n\t\t)\n\t\t.then(g.refresh);\n}\n\nfunction mediaData(m: gt.mediaType) {\n\tif (!m.data) {\n\t\treturn <p>received - handling</p>;\n\t} else if (m.mime === \"video\") {\n\t\tconst href = encodeURIComponent(`https://www.facebook.com${m.data}`);\n\t\tconst paddingPercent = (m.height * 100) / m.width;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={styles.video_div}\n\t\t\t\tstyle={{ paddingTop: `${paddingPercent}%` }}\n\t\t\t>\n\t\t\t\t<iframe\n\t\t\t\t\tclassName={styles.video}\n\t\t\t\t\tsrc={`https://www.facebook.com/plugins/video.php?href=${href}`}\n\t\t\t\t\twidth={m.width}\n\t\t\t\t\theight={m.height}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tborder: \"none\"\n\t\t\t\t\t}}\n\t\t\t\t\tscrolling=\"no\"\n\t\t\t\t\tallowFullScreen={true}\n\t\t\t\t/>\n\t\t\t\t<div className={gs.vertical_space_10} />\n\t\t\t</div>\n\t\t);\n\t} else if (m.mime === \"image\") {\n\t\treturn <img className={styles.image} src={m.data} />;\n\t} else {\n\t\treturn <pre>{m.data}</pre>;\n\t}\n}\n\nfunction Media(props: {\n\tgym_path: string;\n\tproblem_id: number;\n\tmedia: gt.mediaType[];\n\tusers: gt.userType[];\n}) {\n\tconst usersDict: { [id: number]: gt.userType } = {};\n\tprops.users.forEach(user => {\n\t\tusersDict[user.id] = user;\n\t});\n\treturn (\n\t\t<div>\n\t\t\t<div>\n\t\t\t\t{props.media.map(m => (\n\t\t\t\t\t<div key={m.id} className={gs.bubble}>\n\t\t\t\t\t\t<Link className={gs.margin} to={`/user/1`}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName={`${profile_styles.profile_pic} ${\n\t\t\t\t\t\t\t\t\t\tgs.inline\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tsrc={usersDict[m.user_id].image}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p className={`${gs.inline} ${gs.margin}`}>\n\t\t\t\t\t\t\t\t\t{usersDict[m.user_id].name} ({m.user_id})\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t{mediaData(m)}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nMedia.newMedia = newMedia;\n\nexport default Media;\n","import React from \"react\";\n\nimport Media from \"./Media\";\nimport { Link } from \"react-router-dom\";\n\nimport g from \"../../../../../../globals\";\nimport * as gt from \"../../../../../../globals\";\nimport gs from \"../../../../../../globals.module.css\";\n\nfunction Problem(props: {\n\tproblem: gt.problemType & {\n\t\tmedia: gt.mediaType[];\n\t\tgym_name: string;\n\t\tusers: gt.userType[];\n\t};\n}) {\n\treturn (\n\t\t<div>\n\t\t\t<div className={gs.flex}>\n\t\t\t\t<div className={`${gs.bubble} ${gs.inline}`}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{props.problem.name} ({props.problem.id})\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<Link to={`/gym/${props.problem.gym_path}`}>\n\t\t\t\t\t\t\tTo {props.problem.gym_name}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<span>{props.problem.difficulty} </span>\n\t\t\t\t\t\t\t<input type={\"checkbox\"} />\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>{g.formatDate(props.problem.date)}</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{props.problem.location}\n\t\t\t\t\t\t{Boolean(props.problem.active) && (\n\t\t\t\t\t\t\t<span> (retired)</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{props.problem.color}\n\t\t\t\t\t\t{Boolean(props.problem.setter) && (\n\t\t\t\t\t\t\t<span> - set by {props.problem.setter}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t\t{Media.newMedia(props.problem.gym_path, props.problem.id)}\n\t\t\t</div>\n\n\t\t\t<Media\n\t\t\t\tgym_path={props.problem.gym_path}\n\t\t\t\tproblem_id={props.problem.id}\n\t\t\t\tmedia={props.problem.media}\n\t\t\t\tusers={props.problem.users}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default Problem;\n","import React, { Component } from \"react\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./NewProblem.module.css\";\nimport Button from \"react-bootstrap/Button\";\n\nconst initial_problem: gt.problemType = {\n\tid: 0,\n\tname: \"\",\n\tdifficulty: \"\",\n\tlocation: \"\",\n\tdate: \"\",\n\tsetter: \"\",\n\tcolor: \"\",\n\tactive: true,\n\tgym_path: \"\"\n};\nclass NewProblem extends Component<{ gym_path: string }, gt.problemType> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, initial_problem, {\n\t\t\tdate: g.inputDate()\n\t\t});\n\t}\n\n\tsubmit = (): void => {\n\t\tg.req(`/gym/${this.props.gym_path}/new_problem`, \"POST\", this.state)\n\t\t\t.then(() => this.setState(initial_problem))\n\t\t\t.then(g.refresh);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`${gs.bubble} ${gs.inline} ${\n\t\t\t\t\tstyles.new_problem_container\n\t\t\t\t}`}\n\t\t\t>\n\t\t\t\t<p>New Problem</p>\n\t\t\t\t<div className={styles.new_problem}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\tname\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"name\")} size={11} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\tdifficulty\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"difficulty\")} size={5} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<div>\n\t\t\t\t\t\tlocation\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"location\")} size={10} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\tcolor\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"color\")} size={7} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\tsetter\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"setter\")} size={8} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\tdate\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...g.input(this, \"date\")}\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tmin=\"2019-01-01\"\n\t\t\t\t\t\t\tmax=\"2030-12-31\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={gs.vertical_space_20} />\n\t\t\t\t<Button onClick={this.submit}>Submit</Button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default NewProblem;\n","import React, { Component } from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nclass EditProblem extends Component<\n\tgt.problemType & { gym_path: string },\n\tgt.problemType\n> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props, {\n\t\t\tdate: g.inputDate(props.date)\n\t\t});\n\t}\n\n\tsubmit = (): void => {\n\t\tconst url = `/gym/${this.props.gym_path}/problem/${this.props.id}/edit`;\n\t\tg.req(url, \"POST\", this.state).then(g.refresh);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={gs.bubble}>\n\t\t\t\t<div>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span>id: {this.props.id} - active </span>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...g.input(this, \"active\", gt.InputType.Checkbox)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\tname\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"name\")} size={10} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\tdifficulty\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"difficulty\")} size={4} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\tlocation\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"location\")} size={9} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\tcolor\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"color\")} size={6} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\tsetter\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input {...g.input(this, \"setter\")} size={7} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={gs.padding}>\n\t\t\t\t\t\tdate\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t{...g.input(this, \"date\")}\n\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\tmin=\"2019-01-01\"\n\t\t\t\t\t\t\tmax=\"2030-12-31\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Button onClick={this.submit}>Submit</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default EditProblem;\n","import React, { Component } from \"react\";\n\nimport NewProblem from \"./NewProblem\";\nimport EditProblem from \"./EditProblem\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport { Link } from \"react-router-dom\";\nimport Button from \"react-bootstrap/Button\";\n\ninterface PropsType {\n\tgym: gt.gymType & { problems: gt.problemType[] };\n}\nclass GymEdit extends Component<PropsType, gt.gymType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props.gym);\n\t}\n\n\tsubmit = (): void => {\n\t\tg.req(`/gym/${this.props.gym.path}/edit`, \"POST\", this.state).then(\n\t\t\tg.refresh\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<g.Title title={`Edit: ${this.props.gym.name}`} />\n\t\t\t\t<div>\n\t\t\t\t\t<div className={`${gs.bubble} ${gs.inline}`}>\n\t\t\t\t\t\t<Link to={`/gym/${this.props.gym.path}`}>\n\t\t\t\t\t\t\tTo Gym Page\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className={gs.vertical_space_20} />\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<input {...g.input(this, \"name\")} />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<textarea {...g.input(this, \"description\")} />\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Button onClick={this.submit} variant=\"primary\">\n\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br />\n\t\t\t\t\t<NewProblem gym_path={this.props.gym.path} />\n\t\t\t\t</div>\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t{this.props.gym.problems.map(problem => (\n\t\t\t\t\t\t<EditProblem\n\t\t\t\t\t\t\tkey={problem.id}\n\t\t\t\t\t\t\tgym_path={this.props.gym.path}\n\t\t\t\t\t\t\t{...problem}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GymEdit;\n","import React, { Component } from \"react\";\nimport Button from \"react-bootstrap/Button\";\n\nimport g from \"../../../../../../globals\";\nimport * as gt from \"../../../../../../globals\";\nimport gs from \"../../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\nconst initial_gym: gt.gymType = { id: 0, name: \"\", path: \"\", description: \"\" };\nclass GymsAdmin extends Component<object, gt.gymType> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = initial_gym;\n\t}\n\n\tsubmit = () => {\n\t\tg.req(\"/admin/new_gym\", \"POST\", this.state)\n\t\t\t.then(() => this.setState(initial_gym))\n\t\t\t.then(g.refresh)\n\t\t\t.catch(response => response.text())\n\t\t\t.then(err => alert(err.split(\"\\n\")[0]));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`${gs.bubble} ${gs.margin} ${styles.new_gym}`}>\n\t\t\t\t<h3>New Gym</h3>\n\t\t\t\t<p>\n\t\t\t\t\tpath\n\t\t\t\t\t<br />\n\t\t\t\t\t<input {...g.input(this, \"path\", gt.InputType.Text)} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tname\n\t\t\t\t\t<br />\n\t\t\t\t\t<input {...g.input(this, \"name\", gt.InputType.Text)} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tdescription\n\t\t\t\t\t<br />\n\t\t\t\t\t<textarea {...g.input(this, \"description\")} />\n\t\t\t\t</p>\n\t\t\t\t<Button onClick={this.submit} variant=\"primary\">\n\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GymsAdmin;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport GymsAdmin from \"./GymsAdmin\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\nfunction Gyms(props: { gyms: gt.gymType[] }) {\n\treturn (\n\t\t<div>\n\t\t\t<g.Title title=\"The Climbing App\" />\n\t\t\t<div className={`${gs.flex} ${styles.gyms_parent}`}>\n\t\t\t\t<div className={gs.flex}>\n\t\t\t\t\t{props.gyms.map(gym => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={gym.id}\n\t\t\t\t\t\t\tclassName={`${gs.bubble} ${styles.gym}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Link to={`/gym/${gym.path}`}>\n\t\t\t\t\t\t\t\t<h3>{gym.name}</h3>\n\t\t\t\t\t\t\t\t<p>{gym.description}</p>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t{g.common().user.is_admin && <GymsAdmin />}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Gyms;\n","import React, { Component } from \"react\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport styles from \"./index.module.css\";\n\nclass Profile extends Component<{ user: gt.userType }, gt.userType> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props.user);\n\t}\n\n\tcheckboxProps(name: string) {\n\t\tconst original_state = Object.assign({}, this.state);\n\t\tconst g_props = g.input(this, name, gt.InputType.Checkbox);\n\t\tconst original_on_change = g_props.onChange;\n\t\tconst disabled = !g.common().user.is_admin;\n\t\tconst onChange: typeof original_on_change = event => {\n\t\t\tconst url = `/admin/user/${this.props.user.id}/edit`;\n\t\t\tconst state_change = original_on_change(event);\n\t\t\tg.req(url, \"POST\", state_change)\n\t\t\t\t.then(g.unready)\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.setState(original_state);\n\t\t\t\t\tg.err(err);\n\t\t\t\t});\n\t\t\treturn state_change;\n\t\t};\n\t\treturn Object.assign(g_props, { onChange, disabled });\n\t}\n\n\tstatic profileDiv(user: gt.userType) {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\t{user.name} ({user.id})\n\t\t\t\t</p>\n\t\t\t\t<p>{user.email}</p>\n\t\t\t\t<p>{new Date(user.timestamp).toLocaleString()}</p>\n\t\t\t\t<img className={styles.profile_pic} src={user.image} />\n\t\t\t</div>\n\t\t);\n\t}\n\n\tpermissionDiv() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>\n\t\t\t\t\tis admin: <input {...this.checkboxProps(\"is_admin\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tis verified:{\" \"}\n\t\t\t\t\t<input {...this.checkboxProps(\"is_verified\")} />\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`${gs.bubble} ${styles.profile}`}>\n\t\t\t\t<g.Title title={this.props.user.name} />\n\t\t\t\t<div>\n\t\t\t\t\t{Profile.profileDiv(this.props.user)}\n\t\t\t\t\t{g.common().user.is_admin && this.permissionDiv()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Profile;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport g from \"../../../../../globals\";\nimport * as gt from \"../../../../../globals\";\nimport gs from \"../../../../../globals.module.css\";\n\nimport profile from \"../Profile\";\n\nfunction LatestUsers(props: { users: gt.userType[] }) {\n\treturn (\n\t\t<div>\n\t\t\t<g.Title title=\"Latest Users\" />\n\t\t\t<div className={gs.flex}>\n\t\t\t\t{props.users.map(user => (\n\t\t\t\t\t<div key={user.id} className={gs.bubble}>\n\t\t\t\t\t\t<Link to={`/user/${user.id}`}>\n\t\t\t\t\t\t\t{profile.profileDiv(user)}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default LatestUsers;\n","import React, { ReactNode } from \"react\";\nimport {\n\tSwitch,\n\tRoute,\n\tRouteComponentProps,\n\tStaticContext\n} from \"react-router\";\n\nimport Gym from \"./Gym\";\nimport Problem from \"./Gym/Problem\";\nimport GymEdit from \"./Gym/GymEdit\";\nimport Gyms from \"./Gyms\";\nimport LatestUsers from \"./LatestUsers\";\nimport Profile from \"./Profile\";\n\nimport g from \"../../../../globals\";\n\nfunction p(\n\tpath: string,\n\trender: (params: { [param: string]: string }) => ReactNode\n) {\n\treturn {\n\t\texact: true,\n\t\tpath,\n\t\trender: (r_props: RouteComponentProps<any, StaticContext, any>) =>\n\t\t\tg.common().path === encodeURI(r_props.location.pathname) &&\n\t\t\trender(r_props.match.params)\n\t};\n}\n\nfunction ClimbRouter(props: any) {\n\treturn (\n\t\t<div>\n\t\t\t<Switch>\n\t\t\t\t<Route {...p(\"/\", () => <Gyms gyms={props.gyms} />)} />\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/admin/user/latest\", () => (\n\t\t\t\t\t\t<LatestUsers users={props.users} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/user/:user_id\", () => (\n\t\t\t\t\t\t<Profile user={props.user} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path\", () => <Gym gym={props.gym} />)}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path/edit\", () => (\n\t\t\t\t\t\t<GymEdit gym={props.gym} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path/problem/:problem_id\", () => (\n\t\t\t\t\t\t<Problem problem={props.problem} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nexport default ClimbRouter;\n","import React from \"react\";\n\nimport Header from \"./Header\";\nimport ClimbRouter from \"./ClimbRouter\";\n\nimport gs from \"../../../globals.module.css\";\n\nfunction Main(props: any) {\n\treturn (\n\t\t<div className={gs.main}>\n\t\t\t<Header />\n\t\t\t<ClimbRouter {...props} />\n\t\t</div>\n\t);\n}\n\nexport default Main;\n","import React, { Component } from \"react\";\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\n\nimport Main from \"./Main\";\n\nimport g, * as gt from \"../../globals\";\n\nclass App extends Component<RouteComponentProps, { ready: boolean } & any> {\n\tconstructor(props: RouteComponentProps) {\n\t\tsuper(props);\n\n\t\tthis.state = { ready: false };\n\n\t\tg.setApp(this);\n\n\t\tthis.props.history.listen(g.refresh);\n\t}\n\n\tcomponentDidMount(): void {\n\t\tg.refresh();\n\t}\n\n\t_refresh = (_unready: any): Promise<any> => {\n\t\tconst unready = _unready === g.unready_o;\n\t\tconsole.log(\"refresh\", unready, this.props.history.location.pathname);\n\t\t// todo fix to actually unready\n\t\t// if (unready) this.setState({ ready: false });\n\t\tif (unready) location.reload();\n\t\treturn g\n\t\t\t.req(`${this.props.history.location.pathname}`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(response => {\n\t\t\t\tthis.setState(Object.assign({ ready: true }, response));\n\t\t\t\treturn response;\n\t\t\t});\n\t};\n\n\t_common = (): gt.commonType => {\n\t\treturn this.state.common;\n\t};\n\n\trender(): any {\n\t\tif (!this.state.ready) return null;\n\t\treturn <Main {...this.state as any} />;\n\t}\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport App from \"./components/App\";\n\nconst log = console.log;\nconsole.log = function() {\n\tconst arr = Array.from(arguments);\n\tlog(...arr);\n\treturn arr[0];\n};\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}