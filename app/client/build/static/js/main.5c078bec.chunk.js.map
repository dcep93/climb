{"version":3,"sources":["globals.module.css","components/App/Main/Header/Auth.module.css","components/App/Main/Header/Header.module.css","components/App/Main/GymsAdmin.module.css","components/App/Main/Gyms.module.css","components/App/Main/Profile.module.css","components/App/Main/LatestUsers.module.css","serviceWorker.js","globals.tsx","components/App/Main/Header/Auth.tsx","components/App/Main/Header/index.tsx","components/App/Main/GymsAdmin.tsx","components/App/Main/Gyms.tsx","components/App/Main/Profile.tsx","components/App/Main/LatestUsers.tsx","components/App/Main/Gym/index.tsx","components/App/Main/Gym/NewWall.tsx","components/App/Main/Gym/EditWall.tsx","components/App/Main/Gym/GymEdit.tsx","components/App/Main/Wall/Media.tsx","components/App/Main/Wall/index.tsx","components/App/Main/index.tsx","components/App/index.tsx","index.js"],"names":["module","exports","bubble","align_end","header","new_gym","gyms","profile","users","Boolean","window","location","hostname","match","addEventListener","event","reason","ReqError","preventDefault","InputType","Error","app","input_type_to_field","_input_type_to_field","Object","defineProperty","Text","Checkbox","err","console","error","refresh","_","_refresh","unready_o","globals","req","url","method","body","fetch","concat","JSON","stringify","headers","Content-Type","then","response","status","statusText","catch","Promise","reject","input","c","name","type","_ref","undefined","state","field","t","target","setState","common","_common","setApp","_app","unready","login","loggedIn","id_token","Zi","g","logout","google_promise","gapi","auth2","getAuthInstance","signOut","req_promise","all","user","id","Auth","onSignIn","preload","document","getElementById","script","createElement","src","href","head","appendChild","react_default","a","className","styles","content","google_signin_client_id","hidden","data-onsuccess","onClick","Link","to","Header","gs","is_admin","Header_Auth","initial_gym","path","description","GymsAdmin","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","submit","gt","Component","Gyms","map","gym","key","Main_GymsAdmin","Profile","assign","_this2","original_state","g_props","original_on_change","onChange","disabled","state_change","image","checkboxProps","LatestUsers","email","timestamp","Gym","walls","forEach","wall","climbed_walls","indexOf","toString","climbed","_this3","is_verified","difficulty","date","setter","color","active","initial_wall","NewWall","gym_path","EditWall","GymEdit","Gym_NewWall","Gym_EditWall","new_media_ref","React","createRef","submitNewMedia","current","files","gcs_key","file","mime","split","alert","json","token","folder","bucket","Date","getTime","endpoint","Authorization","gcs_path","gcs_id","size","Media","ref","media","m","data","encodeURIComponent","width","height","style","border","overflow","scrolling","allowFullScreen","mediaData","Wall","Wall_Media","p","render","exact","r_props","encodeURI","pathname","params","Main","Main_Header","Switch","Route","Main_Gyms","Main_LatestUsers","Main_Profile","Main_Gym","Gym_GymEdit","Main_Wall","App","_unready","log","history","ready","assertThisInitialized","listen","App_Main","withRouter","arr","Array","from","arguments","apply","toConsumableArray","ReactDOM","BrowserRouter","components_App","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.5c078bec.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bubble\":\"globals_bubble__2iKJc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"align_end\":\"Auth_align_end__bEepj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__pYs_H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"new_gym\":\"GymsAdmin_new_gym__1PTpn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gyms\":\"Gyms_gyms__moTCC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__27e_b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"LatestUsers_users__2ZZ0j\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === \"localhost\" ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === \"[::1]\" ||\n\t\t// 127.0.0.1/8 is considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener(\"load\", () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\"This web app is being served cache-first by a service \" +\n\t\t\t\t\t\t\t\"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === \"installed\") {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\"New content is available and will be used when all \" +\n\t\t\t\t\t\t\t\t\t\"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log(\"Content is cached for offline use.\");\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get(\"content-type\");\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null &&\n\t\t\t\t\tcontentType.indexOf(\"javascript\") === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t\"No internet connection found. App is running in offline mode.\"\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif (\"serviceWorker\" in navigator) {\n\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import React, { Component } from \"react\";\n\nwindow.addEventListener(\"unhandledrejection\", function(event) {\n\tif (event.reason instanceof ReqError) event.preventDefault();\n});\n\ninterface userType {\n\tid: number;\n\tis_admin: boolean;\n\tis_verified: boolean;\n\temail: string;\n\tname: string;\n\timage: string;\n\ttimestamp: number;\n}\n\ninterface commonType {\n\tpath: string;\n\tgoogle_signin_client_id: string;\n\tuser: userType;\n}\n\ninterface gymType {\n\tid: number;\n\tpath: string;\n\tname: string;\n\tdescription: string;\n}\n\ninterface wallType {\n\tid: number;\n\tname: string;\n\tdifficulty: string;\n\tlocation: string;\n\tdate: string;\n\tsetter: string;\n\tactive: boolean;\n\tcolor: string;\n}\n\ninterface mediaType {\n\tid: number;\n\twall_id: number;\n\tgcs_path: string;\n\tuser_id: number;\n\tfils_size: number;\n\tmime: string;\n\tdata: string;\n\twidth: number;\n\theight: number;\n}\n\nclass ReqError extends Error {}\n\nfunction req(url: string, method?: string, body?: any): Promise<Response> {\n\treturn fetch(`/api${url}`, {\n\t\tmethod,\n\t\tbody: JSON.stringify(body),\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t}\n\t})\n\t\t.then(response => {\n\t\t\tif (response.status >= 400) throw new ReqError(response.statusText);\n\t\t\treturn response;\n\t\t})\n\t\t.catch(err => {\n\t\t\treturn Promise.reject(new ReqError(err));\n\t\t}) as Promise<Response>;\n}\n\nenum InputType {\n\tText = \"text\",\n\tCheckbox = \"checkbox\"\n}\n\nconst input_type_to_field = {\n\t[InputType.Text]: \"value\",\n\t[InputType.Checkbox]: \"checked\"\n};\n\nconst input = (\n\tc: Component<object, Readonly<any>>,\n\tname: string,\n\ttype?: InputType\n) => {\n\tif (c.state[name] === undefined)\n\t\tthrow new Error(`bad name - ${name} - ${JSON.stringify(c.state)}`);\n\tconst field = type === undefined ? \"value\" : input_type_to_field[type];\n\treturn {\n\t\tname,\n\t\ttype: type,\n\t\t[field]: c.state[name],\n\t\tonChange: (\n\t\t\tevent: React.ChangeEvent<HTMLInputElement & HTMLTextAreaElement>\n\t\t) => {\n\t\t\tconst t: any = event.target;\n\t\t\tconst state = { [event.target.name]: t[field] };\n\t\t\tc.setState(state);\n\t\t\treturn state;\n\t\t}\n\t};\n};\n\nconst err = console.error;\n\nvar app: { _refresh(_: any): void; _common(): commonType };\n\nfunction setApp(_app: typeof app) {\n\tapp = _app;\n}\n\nfunction refresh(_?: any) {\n\treturn app._refresh(_);\n}\n\nfunction common() {\n\treturn app._common();\n}\n\nconst unready_o = Object();\n\nfunction unready() {\n\trefresh(unready_o);\n}\n\nexport default { req, input, err, refresh, common, setApp, unready, unready_o };\n\n// @ts-ignore Type error: Cannot re-export a type when the '--isolatedModules' flag is provided.  TS1205\n// prettier-ignore\nexport { commonType, userType, gymType, wallType, mediaType, InputType };\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport g from \"../../../../globals\";\n\nimport styles from \"./Auth.module.css\";\n\ndeclare global {\n\tinterface Window {\n\t\tonSignIn(_: any): void;\n\t\tgapi: any;\n\t}\n}\n\nfunction login(response: any): void {\n\tif (loggedIn()) return;\n\tconst id_token = response.Zi.id_token;\n\tg.req(\"/auth/login\", \"POST\", { id_token }).then(g.unready);\n}\n\nfunction logout(): void {\n\tconst google_promise = window.gapi.auth2.getAuthInstance().signOut();\n\tconst req_promise = g.req(\"/auth/logout\", \"POST\");\n\n\tPromise.all([google_promise, req_promise]).then(g.unready);\n}\n\nfunction loggedIn(): boolean {\n\treturn g.common().user.id !== undefined;\n}\n\nfunction Auth() {\n\tif (window.onSignIn === undefined) {\n\t\tconst preload = document.getElementById(\n\t\t\t\"google-platform-preload\"\n\t\t) as HTMLLinkElement;\n\t\tconst script = document.createElement(\"script\");\n\t\tscript.src = preload.href;\n\t\tdocument.head.appendChild(script);\n\n\t\twindow.onSignIn = login;\n\t}\n\n\treturn (\n\t\t<div className={styles.align_end}>\n\t\t\t<meta\n\t\t\t\tname=\"google-signin-client_id\"\n\t\t\t\tcontent={g.common().google_signin_client_id}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\thidden={loggedIn()}\n\t\t\t\tid=\"sign-in-button\"\n\t\t\t\tclassName=\"g-signin2\"\n\t\t\t\tdata-onsuccess=\"onSignIn\"\n\t\t\t/>\n\n\t\t\t{loggedIn() && (\n\t\t\t\t<div>\n\t\t\t\t\t<button onClick={logout}>Sign out</button>\n\t\t\t\t\t<br />\n\t\t\t\t\t<Link to={`/user/${g.common().user.id}`}>Profile</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Auth;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Auth from \"./Auth\";\n\nimport g from \"../../../../globals\";\nimport gs from \"../../../../globals.module.css\";\n\nimport styles from \"./Header.module.css\";\n\nfunction Header() {\n\treturn (\n\t\t<div className={`${styles.header} ${gs.bubble}`}>\n\t\t\t<Link to={\"/\"}>Home</Link>\n\t\t\t{g.common().user.is_admin && (\n\t\t\t\t<Link to={\"/admin/user/latest\"}>Latest Users</Link>\n\t\t\t)}\n\t\t\t<Auth />\n\t\t</div>\n\t);\n}\n\nexport default Header;\n","import React, { Component } from \"react\";\n\nimport g from \"../../../globals\";\nimport * as gt from \"../../../globals\";\nimport gs from \"../../../globals.module.css\";\n\nimport styles from \"./GymsAdmin.module.css\";\n\nconst initial_gym: gt.gymType = { id: 0, name: \"\", path: \"\", description: \"\" };\nclass GymsAdmin extends Component<object, gt.gymType> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = initial_gym;\n\t}\n\n\tsubmit = (event: React.MouseEvent<HTMLInputElement>) => {\n\t\tg.req(\"/admin/new_gym\", \"POST\", this.state)\n\t\t\t.then(() => this.setState(initial_gym))\n\t\t\t.then(g.refresh);\n\t\tevent.preventDefault();\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`${gs.bubble} ${styles.new_gym}`}>\n\t\t\t\t<h3>New Gym</h3>\n\t\t\t\t<p>\n\t\t\t\t\tpath:{\" \"}\n\t\t\t\t\t<input {...g.input(this, \"path\", gt.InputType.Text)} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tname:{\" \"}\n\t\t\t\t\t<input {...g.input(this, \"name\", gt.InputType.Text)} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tdescription: <textarea {...g.input(this, \"description\")} />\n\t\t\t\t</p>\n\t\t\t\t<input type=\"submit\" onClick={this.submit} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GymsAdmin;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport GymsAdmin from \"./GymsAdmin\";\n\nimport g from \"../../../globals\";\nimport * as gt from \"../../../globals\";\nimport gs from \"../../../globals.module.css\";\n\nimport styles from \"./Gyms.module.css\";\n\nfunction Gyms(props: { gyms: gt.gymType[] }) {\n\treturn (\n\t\t<div>\n\t\t\t<div className={styles.gyms}>\n\t\t\t\t{props.gyms.map(gym => (\n\t\t\t\t\t<div key={gym.id} className={gs.bubble}>\n\t\t\t\t\t\t<Link to={`/gym/${gym.path}`}>\n\t\t\t\t\t\t\t<h3>{gym.name}</h3>\n\t\t\t\t\t\t\t<p>{gym.description}</p>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t{g.common().user.is_admin && <GymsAdmin />}\n\t\t</div>\n\t);\n}\n\nexport default Gyms;\n","import React, { Component } from \"react\";\n\nimport g from \"../../../globals\";\nimport * as gt from \"../../../globals\";\nimport gs from \"../../../globals.module.css\";\n\nimport styles from \"./Profile.module.css\";\n\nclass Profile extends Component<{ user: gt.userType }, gt.userType> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props.user);\n\t}\n\n\tcheckboxProps(name: string) {\n\t\tconst original_state = Object.assign({}, this.state);\n\t\tconst g_props = g.input(this, name, gt.InputType.Checkbox);\n\t\tconst original_on_change = g_props.onChange;\n\t\tconst disabled = !g.common().user.is_admin;\n\t\tconst onChange: typeof original_on_change = event => {\n\t\t\tconst url = `/admin/user/${this.props.user.id}/edit`;\n\t\t\tconst state_change = original_on_change(event);\n\t\t\tg.req(url, \"POST\", state_change)\n\t\t\t\t.then(g.unready)\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.setState(original_state);\n\t\t\t\t\tg.err(err);\n\t\t\t\t});\n\t\t\treturn state_change;\n\t\t};\n\t\treturn Object.assign(g_props, { onChange, disabled });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`${gs.bubble} ${styles.profile}`}>\n\t\t\t\t<div>\n\t\t\t\t\t<p>{this.props.user.name}</p>\n\t\t\t\t\t<img src={this.props.user.image} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tis admin: <input {...this.checkboxProps(\"is_admin\")} />\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tis verified:{\" \"}\n\t\t\t\t\t\t<input {...this.checkboxProps(\"is_verified\")} />\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Profile;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport * as gt from \"../../../globals\";\nimport gs from \"../../../globals.module.css\";\n\nimport styles from \"./LatestUsers.module.css\";\n\nfunction LatestUsers(props: { users: gt.userType[] }) {\n\treturn (\n\t\t<div className={styles.users}>\n\t\t\t{props.users.map(user => (\n\t\t\t\t<div key={user.id} className={gs.bubble}>\n\t\t\t\t\t<Link to={`/user/${user.id}`}>\n\t\t\t\t\t\t<p>id: {user.id}</p>\n\t\t\t\t\t\t<p>name: {user.name}</p>\n\t\t\t\t\t\t<p>email: {user.email}</p>\n\t\t\t\t\t\t<p>timestamp: {user.timestamp}</p>\n\t\t\t\t\t\t<img src={user.image} />\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default LatestUsers;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport g from \"../../../../globals\";\nimport * as gt from \"../../../../globals\";\n\ninterface PropsType {\n\tgym: gt.gymType & { climbed_walls: number[]; walls: gt.wallType[] };\n}\ninterface StateType {\n\t[id: number]: boolean;\n}\nclass Gym extends Component<PropsType, StateType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tconst state: StateType = {};\n\t\tprops.gym.walls.forEach((wall: gt.wallType) => {\n\t\t\tstate[wall.id] = props.gym.climbed_walls.indexOf(wall.id) !== -1;\n\t\t});\n\t\tthis.state = state;\n\t}\n\n\tcheckboxProps(id: number) {\n\t\tconst g_props = g.input(this, id.toString(), gt.InputType.Checkbox);\n\t\tconst original_on_change = g_props.onChange;\n\t\tconst onChange: typeof original_on_change = event => {\n\t\t\tevent.preventDefault();\n\t\t\tconst original_state = Object.assign({}, this.state);\n\t\t\tconst state_change = original_on_change(event);\n\t\t\tg.req(`/${g.common().path}/wall/${id}/climb`, \"POST\", {\n\t\t\t\tclimbed: state_change[id]\n\t\t\t})\n\t\t\t\t.then(g.refresh)\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthis.setState(original_state);\n\t\t\t\t\tg.err(err);\n\t\t\t\t});\n\t\t\treturn state_change;\n\t\t};\n\t\treturn Object.assign(g_props, { onChange });\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>{this.props.gym.name}</div>\n\t\t\t\t<div>{this.props.gym.description}</div>\n\t\t\t\t<br />\n\t\t\t\t<div>\n\t\t\t\t\t<p>Walls</p>\n\t\t\t\t\t<br />\n\t\t\t\t\t{g.common().user.is_verified && (\n\t\t\t\t\t\t<Link to={`${g.common().path}/edit`}>Edit</Link>\n\t\t\t\t\t)}\n\t\t\t\t\t{this.props.gym.walls.map(wall => (\n\t\t\t\t\t\t<div key={wall.id}>\n\t\t\t\t\t\t\t<Link to={`${g.common().path}/wall/${wall.id}`}>\n\t\t\t\t\t\t\t\t<p>id: {wall.id}</p>\n\t\t\t\t\t\t\t\t<p>name: {wall.name}</p>\n\t\t\t\t\t\t\t\t<p>difficulty: {wall.difficulty}</p>\n\t\t\t\t\t\t\t\t<p>location: {wall.location}</p>\n\t\t\t\t\t\t\t\t<p>date: {wall.date}</p>\n\t\t\t\t\t\t\t\t<p>setter: {wall.setter}</p>\n\t\t\t\t\t\t\t\t<p>color: {wall.color}</p>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tstatus: {wall.active ? \"active\" : \"retired\"}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\tclimbed:{\" \"}\n\t\t\t\t\t\t\t\t<input {...this.checkboxProps(wall.id)} />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Gym;\n","import React, { Component } from \"react\";\n\nimport g from \"../../../../globals\";\nimport * as gt from \"../../../../globals\";\n\nconst initial_wall: gt.wallType = {\n\tid: 0,\n\tname: \"\",\n\tdifficulty: \"\",\n\tlocation: \"\",\n\tdate: \"\",\n\tsetter: \"\",\n\tcolor: \"\",\n\tactive: false\n};\nclass NewWall extends Component<{ gym_path: string }, gt.wallType> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = initial_wall;\n\t}\n\n\tsubmit = (event: React.MouseEvent<HTMLInputElement>): void => {\n\t\tevent.preventDefault();\n\t\tg.req(`/gym/${this.props.gym_path}/new_wall`, \"POST\", this.state)\n\t\t\t.then(() => this.setState(initial_wall))\n\t\t\t.then(g.refresh);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>New Wall</p>\n\t\t\t\t<p>\n\t\t\t\t\tname: <input {...g.input(this, \"name\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tdifficulty: <input {...g.input(this, \"difficulty\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tlocation: <input {...g.input(this, \"location\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tdate: <input {...g.input(this, \"date\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tsetter: <input {...g.input(this, \"setter\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tcolor: <input {...g.input(this, \"color\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tactive:{\" \"}\n\t\t\t\t\t<input\n\t\t\t\t\t\t{...g.input(this, \"active\", gt.InputType.Checkbox)}\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\t\t\t\t<input type=\"submit\" onClick={this.submit} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default NewWall;\n","import React, { Component } from \"react\";\n\nimport g from \"../../../../globals\";\nimport * as gt from \"../../../../globals\";\n\nclass EditWall extends Component<\n\tgt.wallType & { gym_path: string },\n\tgt.wallType\n> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props);\n\t}\n\n\tsubmit = (event: React.MouseEvent<HTMLInputElement>): void => {\n\t\tevent.preventDefault();\n\t\tconst url = `/gym/${this.props.gym_path}/wall/${this.props.id}/edit`;\n\t\tg.req(url, \"POST\", this.state).then(g.refresh);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>id: {this.props.id}</p>\n\t\t\t\t<p>\n\t\t\t\t\tname: <input {...g.input(this, \"name\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tdifficulty: <input {...g.input(this, \"difficulty\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tlocation: <input {...g.input(this, \"location\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tdate: <input {...g.input(this, \"date\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tsetter: <input {...g.input(this, \"setter\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tcolor: <input {...g.input(this, \"color\")} />\n\t\t\t\t</p>\n\t\t\t\t<p>\n\t\t\t\t\tactive:{\" \"}\n\t\t\t\t\t<input\n\t\t\t\t\t\t{...g.input(this, \"active\", gt.InputType.Checkbox)}\n\t\t\t\t\t/>\n\t\t\t\t</p>\n\t\t\t\t<input type=\"submit\" onClick={this.submit} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default EditWall;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport NewWall from \"./NewWall\";\nimport EditWall from \"./EditWall\";\n\nimport g from \"../../../../globals\";\nimport * as gt from \"../../../../globals\";\n\ninterface PropsType {\n\tgym: gt.gymType & { walls: gt.wallType[] };\n}\nclass GymEdit extends Component<PropsType, gt.gymType> {\n\tconstructor(props: PropsType) {\n\t\tsuper(props);\n\t\tthis.state = Object.assign({}, props.gym);\n\t}\n\n\tsubmit = (event: React.MouseEvent<HTMLInputElement>): void => {\n\t\tevent.preventDefault();\n\t\tg.req(`/gym/${this.props.gym.path}/edit`, \"POST\", this.state).then(\n\t\t\tg.refresh\n\t\t);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tname: <input {...g.input(this, \"name\")} />\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tdescription:{\" \"}\n\t\t\t\t\t\t<textarea {...g.input(this, \"description\")} />\n\t\t\t\t\t</p>\n\t\t\t\t\t<input type=\"submit\" onClick={this.submit} />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<p>Walls</p>\n\t\t\t\t\t<br />\n\t\t\t\t\t<NewWall gym_path={this.props.gym.path} />\n\t\t\t\t\t{this.props.gym.walls.map(wall => (\n\t\t\t\t\t\t<EditWall\n\t\t\t\t\t\t\tgym_path={this.props.gym.path}\n\t\t\t\t\t\t\tkey={wall.id}\n\t\t\t\t\t\t\t{...wall}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default GymEdit;\n","import React, { RefObject } from \"react\";\n\nimport g from \"../../../../globals\";\nimport * as gt from \"../../../../globals\";\n\nconst new_media_ref: RefObject<HTMLInputElement> = React.createRef();\n\nfunction newMedia() {\n\tif (g.common().user.id === undefined) {\n\t\treturn <p>Create an account and become verified to upload media.</p>;\n\t} else if (!g.common().user.is_verified) {\n\t\treturn (\n\t\t\t<p>\n\t\t\t\tEmail climb.nomorerice@gmail.com to become verified to upload\n\t\t\t\tmedia.\n\t\t\t</p>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>New Media</p>\n\t\t\t\t<div>\n\t\t\t\t\t<input ref={new_media_ref} type=\"file\" name=\"upload\" />\n\t\t\t\t\t<input type=\"submit\" onClick={submitNewMedia} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction submitNewMedia(event: React.MouseEvent<HTMLInputElement>) {\n\tevent.preventDefault();\n\tconst input = new_media_ref.current;\n\tif (input === null) return;\n\tconst files = input.files;\n\tif (!files) return;\n\tconst file = files[0];\n\tconst mime = file.type.split(\"/\")[0];\n\tconst acceptable_media = [\"image\", \"video\"];\n\tif (acceptable_media.indexOf(mime) === -1) return alert(\"invalid file\");\n\tlet gcs_key: string;\n\tg.req(\"/get_gcs_key\")\n\t\t.then(response => response.json())\n\t\t.then(response => {\n\t\t\tgcs_key = response.token;\n\t\t\tconst folder = response.folder;\n\t\t\tconst bucket = response.bucket;\n\n\t\t\tconst name = `${folder}/${new Date().getTime()}_${file.name}`;\n\t\t\tconst endpoint = `https://www.googleapis.com/upload/storage/v1/b/${bucket}/o?uploadType=media&name=${name}`;\n\n\t\t\treturn fetch(endpoint, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: file,\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${gcs_key}`,\n\t\t\t\t\t\"Content-Type\": file.type\n\t\t\t\t\t// 'Content-Length': file.size,\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\t\t.then(response => response.json())\n\t\t.then(response =>\n\t\t\tg.req(`/${g.common().path}/upload`, \"POST\", {\n\t\t\t\tgcs_path: response.name,\n\t\t\t\tgcs_id: response.id,\n\t\t\t\tmime: file.type,\n\t\t\t\tsize: file.size,\n\t\t\t\tgcs_key: gcs_key\n\t\t\t})\n\t\t)\n\t\t.then(g.refresh);\n}\n\nfunction mediaData(m: gt.mediaType) {\n\tif (!m.data) {\n\t\treturn <p>received - handling</p>;\n\t} else if (m.mime === \"video\") {\n\t\tconst href = encodeURIComponent(`https://www.facebook.com${m.data}`);\n\t\treturn (\n\t\t\t<iframe\n\t\t\t\tsrc={`https://www.facebook.com/plugins/video.php?href=${href}`}\n\t\t\t\twidth={m.width}\n\t\t\t\theight={m.height}\n\t\t\t\tstyle={{ border: \"none\", overflow: \"hidden\" }}\n\t\t\t\tscrolling=\"no\"\n\t\t\t\tallowFullScreen={true}\n\t\t\t/>\n\t\t);\n\t} else if (m.mime === \"image\") {\n\t\treturn <img src={m.data} />;\n\t} else {\n\t\treturn <pre>{m.data}</pre>;\n\t}\n}\n\nfunction Media(props: { media: gt.mediaType[] }) {\n\treturn (\n\t\t<div>\n\t\t\t<p>Media</p>\n\t\t\t<br />\n\t\t\t{newMedia()}\n\t\t\t<div>\n\t\t\t\t{props.media.map(m => (\n\t\t\t\t\t<div key={m.id}>\n\t\t\t\t\t\t<p>id: {m.id}</p>\n\t\t\t\t\t\t<p>mime: {m.mime}</p>\n\t\t\t\t\t\t{mediaData(m)}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Media;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Media from \"./Media\";\n\nimport * as gt from \"../../../../globals\";\n\nfunction Wall(props: { wall: gt.wallType & { media: gt.mediaType[] } }) {\n\treturn (\n\t\t<div>\n\t\t\t<p>id: {props.wall.id}</p>\n\t\t\t<p>name: {props.wall.name}</p>\n\t\t\t<p>difficulty: {props.wall.difficulty}</p>\n\t\t\t<p>location: {props.wall.location}</p>\n\t\t\t<p>date: {props.wall.date}</p>\n\t\t\t<p>setter: {props.wall.setter}</p>\n\t\t\t<p>color: {props.wall.color}</p>\n\t\t\t<p>status: {props.wall.active ? \"active\" : \"retired\"}</p>\n\n\t\t\t<Media media={props.wall.media} />\n\t\t</div>\n\t);\n}\n\nexport default Wall;\n","import React, { ReactNode } from \"react\";\nimport {\n\tSwitch,\n\tRoute,\n\tRouteComponentProps,\n\tStaticContext\n} from \"react-router\";\n\nimport Header from \"./Header\";\n\nimport Gyms from \"./Gyms\";\nimport Profile from \"./Profile\";\nimport LatestUsers from \"./LatestUsers\";\nimport Gym from \"./Gym\";\nimport GymEdit from \"./Gym/GymEdit\";\nimport Wall from \"./Wall\";\n\nimport g from \"../../../globals\";\n\nfunction p(\n\tpath: string,\n\trender: (params: { [param: string]: string }) => ReactNode\n) {\n\treturn {\n\t\texact: true,\n\t\tpath,\n\t\trender: (r_props: RouteComponentProps<any, StaticContext, any>) =>\n\t\t\tg.common().path === encodeURI(r_props.location.pathname) &&\n\t\t\trender(r_props.match.params)\n\t};\n}\n\nfunction Main(props: any) {\n\treturn (\n\t\t<div>\n\t\t\t<Header />\n\t\t\t<Switch>\n\t\t\t\t<Route {...p(\"/\", () => <Gyms gyms={props.gyms} />)} />\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/admin/user/latest\", () => (\n\t\t\t\t\t\t<LatestUsers users={props.users} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/user/:user_id\", () => (\n\t\t\t\t\t\t<Profile user={props.user} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path\", () => <Gym gym={props.gym} />)}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path/edit\", () => (\n\t\t\t\t\t\t<GymEdit gym={props.gym} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\t{...p(\"/gym/:gym_path/wall/:wall_id\", () => (\n\t\t\t\t\t\t<Wall wall={props.wall} />\n\t\t\t\t\t))}\n\t\t\t\t/>\n\t\t\t</Switch>\n\t\t</div>\n\t);\n}\n\nexport default Main;\n","import React, { Component } from \"react\";\nimport { withRouter, RouteComponentProps } from \"react-router-dom\";\n\nimport Main from \"./Main\";\n\nimport g, * as gt from \"../../globals\";\n\nclass App extends Component<RouteComponentProps, { ready: boolean } & any> {\n\tconstructor(props: RouteComponentProps) {\n\t\tsuper(props);\n\n\t\tthis.state = { ready: false };\n\n\t\tg.setApp(this);\n\n\t\tthis.props.history.listen(g.refresh);\n\t}\n\n\tcomponentDidMount(): void {\n\t\tg.refresh();\n\t}\n\n\t_refresh = (_unready: any): Promise<any> => {\n\t\tconst unready = _unready === g.unready_o;\n\t\tconsole.log(\"refresh\", unready, this.props.history.location.pathname);\n\t\tif (unready) this.setState({ ready: false });\n\t\treturn g\n\t\t\t.req(`${this.props.history.location.pathname}`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(response => {\n\t\t\t\tthis.setState(Object.assign({ ready: true }, response));\n\t\t\t\treturn response;\n\t\t\t});\n\t};\n\n\t_common = (): gt.commonType => {\n\t\treturn this.state.common;\n\t};\n\n\trender(): any {\n\t\tif (!this.state.ready) return null;\n\t\treturn <Main {...this.state as any} />;\n\t}\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport App from \"./components/App\";\n\nconst log = console.log;\nconsole.log = function() {\n\tconst arr = Array.from(arguments);\n\tlog(...arr);\n\treturn arr[0];\n};\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}